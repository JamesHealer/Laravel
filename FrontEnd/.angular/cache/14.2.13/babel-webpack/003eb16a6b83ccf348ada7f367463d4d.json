{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/modules/_services/common.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/modules/_services/excel-parser.service\";\nimport * as i4 from \"src/app/modules/_services/communication.service\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"src/app/modules/_services/db-common.service\";\nimport * as i7 from \"@angular/forms\";\n\nfunction MonthlyLoansDeductionComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"h3\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const label_r22 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.lang == \"en\" ? label_r22.headerName : \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0631\\u0633\\u0627\\u0644\\u0629 \\u0627\\u0644\\u0648\\u0627\\u0631\\u062F\\u0629 \", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 32)(1, \"form\", 33)(2, \"div\", 34)(3, \"div\", 35)(4, \"label\", 36);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 37)(7, \"ng-select\", 38);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.formData.universityId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 39)(9, \"label\", 36);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 37)(12, \"ng-select\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.formData.contractTypeId = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"div\", 9)(14, \"div\", 35)(15, \"label\", 36);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 41)(18, \"div\");\n    i0.ɵɵtext(19, \"From: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"ng-select\", 42);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.formData.departmentIdFrom = $event);\n    })(\"change\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_change_20_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.onDepartmentFromChange());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 39);\n    i0.ɵɵelement(22, \"label\", 43);\n    i0.ɵɵelementStart(23, \"div\", 41)(24, \"div\");\n    i0.ɵɵtext(25, \"To: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"ng-select\", 44);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.formData.departmentIdTo = $event);\n    })(\"change\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_change_26_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onDepartmentToChange());\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 9)(28, \"div\", 35)(29, \"label\", 45);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 41)(32, \"ng-select\", 46);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.formData.positionId = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"div\", 39)(34, \"label\", 45);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"div\", 47)(37, \"ng-select\", 48);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.formData.serviceTypeId = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(38, \"div\", 9)(39, \"div\", 35)(40, \"label\", 45);\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 37)(43, \"div\");\n    i0.ɵɵtext(44, \"From: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"ng-select\", 49);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_45_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.formData.periodFrom = $event);\n    })(\"change\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_change_45_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.onPeriodFromChange());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(46, \"div\", 39);\n    i0.ɵɵelement(47, \"label\", 43);\n    i0.ɵɵelementStart(48, \"div\", 41)(49, \"div\");\n    i0.ɵɵtext(50, \"To: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"ng-select\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_ngModelChange_51_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.formData.periodTo = $event);\n    })(\"change\", function MonthlyLoansDeductionComponent_div_6_Template_ng_select_change_51_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.onPeriodToChange());\n    });\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.reportForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.lang == \"en\" ? \"University\" : \"\\u062C\\u0627\\u0645\\u0639\\u0629\", \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r1.universities)(\"ngModel\", ctx_r1.formData.universityId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.lang == \"en\" ? \"ContractType\" : \"\\u0639\\u0642\\u062F\", \":\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r1.contractTypes)(\"ngModel\", ctx_r1.formData.contractTypeId);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.lang == \"en\" ? \"Department\" : \"\\u0642\\u0633\\u0645\", \":\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"items\", ctx_r1.departments)(\"ngModel\", ctx_r1.formData.departmentIdFrom);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"items\", ctx_r1.departments)(\"ngModel\", ctx_r1.formData.departmentIdTo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.lang == \"en\" ? \"Position\" : \"\\u0645\\u0648\\u0636\\u0639\", \" : \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r1.occupations)(\"ngModel\", ctx_r1.formData.positionId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.lang == \"en\" ? \"Services\" : \"\\u062E\\u062F\\u0645\\u0627\\u062A\", \" : \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", ctx_r1.serviceTypes)(\"ngModel\", ctx_r1.formData.serviceTypeId);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.lang == \"en\" ? \"Period\" : \"\\u0641\\u062A\\u0631\\u0629\", \" : \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"items\", ctx_r1.periods)(\"ngModel\", ctx_r1.formData.periodFrom);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"items\", ctx_r1.periods)(\"ngModel\", ctx_r1.formData.periodTo);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.lang == \"ar\" ? \"\\u0645\\u0639\\u0631\\u0641 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641_PFID\" : \"EmpployeeID\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r39 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r39.empId);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.lang == \"ar\" ? \"\\u0627\\u0633\\u0645\" : \"Name\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r40.name);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.lang == \"ar\" ? \"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0642\\u0631\\u0636\" : \"Loan Value\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r41 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r41.loan_value);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.lang == \"ar\" ? \"\\u0623\\u0642\\u0633\\u0627\\u0637\" : \"Installments\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r42 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r42.installments);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.lang == \"ar\" ? \"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0642\\u0633\\u0637\" : \"Installment Value\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r43 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r43.Installment_value);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r12.lang == \"ar\" ? \"\\u064A\\u064F\\u0642\\u0631\\u0636\" : \"Loan\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r44 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r44.loan);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.lang == \"ar\" ? \"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0642\\u0631\\u0636\" : \"Loan Desc\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r45 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r45.loan_desc);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.lang == \"ar\" ? \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062E\\u0635\\u0645\" : \"Start Deduction\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r46 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r46.start_deduct);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_th_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.lang == \"ar\" ? \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062E\\u0635\\u0645\" : \"End Deduction\", \" \");\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_td_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r47 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r47.end_deduct);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 53);\n  }\n}\n\nfunction MonthlyLoansDeductionComponent_tr_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 54);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"hidden\": a0\n  };\n};\n\nconst _c1 = function () {\n  return [10, 20, 50];\n};\n\nexport let MonthlyLoansDeductionComponent = /*#__PURE__*/(() => {\n  class MonthlyLoansDeductionComponent {\n    constructor(common, activatedRout, excelParser, _communicationService, toastr, commonDbService, fb) {\n      this.common = common;\n      this.activatedRout = activatedRout;\n      this.excelParser = excelParser;\n      this._communicationService = _communicationService;\n      this.toastr = toastr;\n      this.commonDbService = commonDbService;\n      this.fb = fb; // We will filter form header labels array\n\n      this.formHeaderLabels = [];\n      this.lang = '';\n      this.pageSize = 10; // We will get form lables from lcale storage and will put into array.\n\n      this.AppFormLabels = []; // We will filter form body labels array\n\n      this.formBodyLabels = [];\n      this.tenentId = 0;\n      this.universities = [];\n      this.contractTypes = [];\n      this.departments = [];\n      this.occupations = [];\n      this.serviceTypes = [];\n      this.periods = [];\n      this.formData = {\n        universityId: 0,\n        contractTypeId: 0,\n        departmentIdFrom: 0,\n        departmentIdTo: 0,\n        positionId: 0,\n        serviceTypeId: 0,\n        periodFrom: 0,\n        periodTo: 0\n      };\n      this.tableData = new MatTableDataSource([]); // To display table column headers\n\n      this.columnsToDisplay = ['empId', 'Name', 'Loan Value', 'Installments', 'Installment Value', 'Loan', 'Loan Desc', 'Start Deduction', 'End Deduction']; // Incase of any error will display error message.\n\n      this.dataLoadingStatus = ''; // True of any error\n\n      this.isError = false; // Hide footer while loading.\n\n      this.isLoadingCompleted = false;\n      this.isLoadingReportCompleted = false;\n      this.masterServiceType$ = [];\n      this.formGroup = new FormGroup({\n        locationId: new FormControl(null),\n        contactId: new FormControl(null)\n      });\n      this.userParams = this._communicationService.getUserParams();\n    }\n\n    get empHistoryForm() {\n      return this.reportForm.controls;\n    }\n\n    ngOnInit() {\n      this.tenentId = JSON.parse(localStorage.getItem('user') || '{}')[0].tenantId;\n      this.common.getLang().subscribe(lang => {\n        this.lang = lang;\n      });\n      this.formTitle = this.common.getFormTitle();\n      this.formTitle = ''; // #region TO SETUP THE FORM LOCALIZATION\n      // TO GET THE LANGUAGE ID e.g. 1 = ENGLISH and 2 =  ARABIC\n\n      this.languageType = localStorage.getItem('langType'); // To get the selected language...\n\n      this.language = localStorage.getItem('lang'); // To setup the form id so will will get form labels based on form Id\n\n      this.formId = 'EmployeeHistoryDetails'; // Check if LocalStorage is Not NULL\n\n      if (localStorage.getItem('AppLabels') != null) {\n        // Get data from LocalStorage\n        this.AppFormLabels = JSON.parse(localStorage.getItem('AppLabels') || '{}');\n        let index = 0;\n\n        for (let labels of this.AppFormLabels) {\n          // console.log(\"labels\", labels)\n          if (labels.formID == this.formId && labels.language == this.languageType) {\n            this.formHeaderLabels.push(labels);\n            this.formBodyLabels.push(labels.formTitleDTLanguage);\n            console.log(this.formBodyLabels);\n          } else {\n            index++;\n\n            if (index === 1) {\n              this.formHeaderLabels.push({\n                \"headerName\": \"Monthly Loans Deduction\",\n                \"formID\": \"MonthlyLoansDeduction\",\n                \"subHeaderName\": \"تفاصيل تاريخ الموظف\",\n                \"status\": \"Active\"\n              });\n              this.formBodyLabels.push(\"report\");\n            }\n          }\n        }\n      }\n\n      this.getUniversities();\n      this.getDepartments();\n      this.getOccupations();\n      this.getServiceTypes();\n      this.getLocations();\n      this.getContractTypes();\n      this.getMasterContracts();\n      this.initializeSearchForm();\n      this.getPeriods();\n    }\n\n    generatePdf() {\n      this.isLoadingReportCompleted = true;\n\n      this._communicationService.generatePdf(this.tableData).subscribe(res => {\n        let blob = res.body;\n        let url = window.URL.createObjectURL(blob);\n        window.open(url);\n      });\n    }\n\n    filterRecords() {\n      if (this.formData.periodFrom > this.formData.periodTo) {\n        this.toastr.error(\"Please select Period correctly.\");\n        return;\n      }\n\n      this.isLoadingCompleted = false;\n\n      this._communicationService.GetEmployeeHistoryDetails(this.userParams, this.tenentId, this.formData.universityId, this.formData.contractTypeId, this.formData.departmentIdFrom, this.formData.departmentIdTo == 0 ? this.departments[this.departments.length - 1].refid : this.formData.departmentIdTo, this.formData.positionId, this.formData.serviceTypeId, this.formData.periodFrom == 0 ? parseInt(this.periods[0].code) : this.formData.periodFrom, this.formData.periodTo == 0 ? parseInt(this.periods[this.periods.length - 1].code) : this.formData.periodTo).subscribe(response => {\n        console.log(response, 'getemployee history');\n        const rows = response.body.empDetailsWithHistoryList;\n\n        for (let i = 0; i < rows.length; i++) {\n          const r = rows[i];\n          rows[i] = {\n            empId: r.dEemployeeID,\n            name: r.arabicName,\n            loan_value: r.totamt,\n            installments: r.installmentNumber,\n            Installment_value: r.installmentAmount,\n            loan: r.serviceSubTypeId,\n            loan_desc: r.ServiceName2,\n            start_deduct: r.periodBegin.toString(),\n            end_deduct: r.periodBegin + r.totInstallments\n          };\n        }\n\n        this.tableData = new MatTableDataSource(rows);\n        this.paginator.length = response.body.totalRecords;\n        this.isLoadingCompleted = true;\n      }, error => {\n        this.dataLoadingStatus = 'Error fetching the data';\n        this.isError = true;\n      });\n    }\n\n    getUniversities() {\n      this.commonDbService.GetUniversities().subscribe(data => {\n        console.log('universities', data);\n        this.universities = [{\n          univId: 0,\n          univName1: 'All Universities',\n          univName2: 'All Universities',\n          univName3: 'All Universities'\n        }, ...data];\n      });\n    }\n\n    getPeriods() {\n      this.commonDbService.GetPeriods().subscribe(data => {\n        console.log('Periods', data);\n        this.periods = [];\n        this.periods.push({\n          code: 0,\n          shortname: 'All Periods'\n        });\n\n        for (let i = 0; i < data.length; i++) {\n          this.periods.push({\n            code: data[i],\n            shortname: data[i].toString()\n          });\n        }\n      });\n    }\n\n    getServiceTypes() {\n      this.commonDbService.GetServiceType(this.tenentId).subscribe(data => {\n        console.log('serviceTypes', data);\n        this.serviceTypes = [{\n          refid: 0,\n          shortname: 'All ServiceTypes'\n        }, ...data];\n      });\n    }\n\n    getDepartments() {\n      this.commonDbService.GetDepartments().subscribe(data => {\n        console.log('departments', data);\n        this.departments = [{\n          refid: 0,\n          shortname: 'All Departments'\n        }, ...data];\n        this.departments.sort((a, b) => a.refid - b.refid);\n      });\n    }\n\n    getOccupations() {\n      this.commonDbService.GetOccupations().subscribe(data => {\n        console.log('occupations', data);\n        this.occupations = [{\n          refid: 0,\n          shortname: 'All Occupations'\n        }, ...data];\n      });\n    }\n\n    getLocations() {\n      this.commonDbService.getLocations().subscribe(data => {\n        console.log(\"localutons\", data);\n        this.locations = data;\n      });\n    }\n\n    getContractTypes() {\n      this.commonDbService.GetContractType().subscribe(data => {\n        console.log(\"contractTypes\", data);\n        this.contractTypes = [{\n          refid: 0,\n          shortname: 'All ContractTypes'\n        }, ...data];\n      });\n    }\n\n    getMasterContracts() {\n      this.commonDbService.GetMaterServiceTypes().subscribe(result => {\n        this.masterServiceType$ = result;\n      });\n    }\n\n    initializeSearchForm() {\n      this.reportForm = this.fb.group({\n        universityId: new FormControl(''),\n        contractTypeId: new FormControl(''),\n        departmentIdFrom: new FormControl(''),\n        departmentIdTo: new FormControl(''),\n        positionId: new FormControl(''),\n        serviceTypeId: new FormControl(''),\n        periodFrom: new FormControl(''),\n        periodTo: new FormControl('')\n      });\n    }\n\n    pageChanged(event) {\n      this.userParams.pageNumber = event.pageIndex + 1;\n      this.userParams.pageSize = event.pageSize;\n      this.filterRecords();\n    }\n\n    onDepartmentFromChange() {\n      if (this.formData.departmentIdFrom == 0) this.formData.departmentIdTo = 0;\n    }\n\n    onDepartmentToChange() {\n      if (this.formData.departmentIdTo == 0) this.formData.departmentIdFrom = 0;\n    }\n\n    onPeriodFromChange() {\n      if (this.formData.periodFrom == 0) this.formData.periodTo = 0;\n    }\n\n    onPeriodToChange() {\n      if (this.formData.periodTo == 0) this.formData.periodFrom = 0;\n    }\n\n    exportToExcel() {\n      this.excelParser.exportToExcel(this.tableData.data, \"monthly-loans-deduction.xlsx\");\n    }\n\n  }\n\n  MonthlyLoansDeductionComponent.ɵfac = function MonthlyLoansDeductionComponent_Factory(t) {\n    return new (t || MonthlyLoansDeductionComponent)(i0.ɵɵdirectiveInject(i1.CommonService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ExcelParserService), i0.ɵɵdirectiveInject(i4.CommunicationService), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i6.DbCommonService), i0.ɵɵdirectiveInject(i7.FormBuilder));\n  };\n\n  MonthlyLoansDeductionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MonthlyLoansDeductionComponent,\n    selectors: [[\"app-monthly-loans-deduction\"]],\n    viewQuery: function MonthlyLoansDeductionComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 51,\n    vars: 15,\n    consts: [[1, \"card\", \"mb-5\", \"mb-xl-8\"], [1, \"card-header\", \"border-0\", \"pt-5\", \"panel1bgColor\"], [\"class\", \"card-toolbar\", 4, \"ngFor\", \"ngForOf\"], [1, \"card-body\", \"py-3\"], [1, \"w-100\", \"d-flex\", \"justify-content-center\"], [1, \"w-90\"], [\"class\", \"row mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"justify-content-end\", \"mt-4\"], [\"type\", \"button\", \"lang\", \"AR-SA\", 1, \"btn\", \"btn-primary\", \"light-sea-green\", 3, \"click\"], [1, \"row\", \"mt-4\"], [\"role\", \"group\", 1, \"btn-group\", \"d-flex\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"light-sea-green\", \"mx-2\", 3, \"click\"], [\"type\", \"button\", \"lang\", \"AR-SA\", 1, \"btn\", \"btn-primary\", \"ArFontStyle\", \"light-sea-green\", 3, \"click\"], [1, \"table-container\", \"service-details-table\", \"mt-4\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"w-100\", 3, \"dataSource\"], [\"matColumnDef\", \"empId\"], [\"class\", \"tableArFontStyle\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"ArFontStyle\", 4, \"matCellDef\"], [\"matColumnDef\", \"Name\"], [\"matColumnDef\", \"Loan Value\"], [\"matColumnDef\", \"Installments\"], [\"matColumnDef\", \"Installment Value\"], [\"matColumnDef\", \"Loan\"], [\"matColumnDef\", \"Loan Desc\"], [\"matColumnDef\", \"Start Deduction\"], [\"matColumnDef\", \"End Deduction\"], [\"mat-header-row\", \"\", \"class\", \"row_header\", 4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\", \"page\"], [1, \"card-footer\"], [1, \"card-toolbar\"], [\"lang\", \"AR-SA\", \"id\", \"IncomingLetterDetails\", 1, \"text-white\", \"ArFontStyle\", \"header_color\"], [1, \"row\", \"mt-3\"], [3, \"formGroup\"], [1, \"row\"], [1, \"col-md-6\", \"left-div\"], [\"lang\", \"AR-SA\", 1, \"col-lg-3\", \"col-form-label\", \"fw-bold\", \"fs-6\", \"ArFontStyle\", \"filter-label\"], [1, \"col-lg-9\"], [\"formControlName\", \"universityId\", \"bindLabel\", \"univName3\", \"bindValue\", \"univId\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [1, \"col-md-6\", \"right-div\"], [\"bindValue\", \"refid\", \"bindLabel\", \"shortname\", \"formControlName\", \"contractTypeId\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [1, \"col-md-9\"], [\"formControlName\", \"departmentIdFrom\", \"bindValue\", \"refid\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-md-3\"], [\"formControlName\", \"departmentIdTo\", \"bindValue\", \"refid\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [\"lang\", \"AR-SA\", 1, \"col-md-3\", \"col-form-label\", \"fw-bold\", \"fs-6\", \"ArFontStyle\", \"filter-label\"], [\"formControlName\", \"positionId\", \"bindValue\", \"refid\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [1, \"col-md-9\", \"fv-row\"], [\"formControlName\", \"serviceTypeId\", \"bindValue\", \"refid\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [\"formControlName\", \"periodFrom\", \"bindValue\", \"code\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [\"formControlName\", \"periodTo\", \"bindValue\", \"code\", \"bindLabel\", \"shortname\", 3, \"items\", \"ngModel\", \"ngModelChange\", \"change\"], [\"mat-header-cell\", \"\", 1, \"tableArFontStyle\"], [\"mat-cell\", \"\", 1, \"ArFontStyle\"], [\"mat-header-row\", \"\", 1, \"row_header\"], [\"mat-row\", \"\"]],\n    template: function MonthlyLoansDeductionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, MonthlyLoansDeductionComponent_div_2_Template, 3, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n        i0.ɵɵtemplate(6, MonthlyLoansDeductionComponent_div_6_Template, 52, 23, \"div\", 6);\n        i0.ɵɵelementStart(7, \"div\", 7)(8, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function MonthlyLoansDeductionComponent_Template_button_click_8_listener() {\n          return ctx.filterRecords();\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 7)(12, \"div\", 10)(13, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function MonthlyLoansDeductionComponent_Template_button_click_13_listener() {\n          return ctx.exportToExcel();\n        });\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function MonthlyLoansDeductionComponent_Template_button_click_15_listener() {\n          return ctx.generatePdf();\n        });\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 13)(18, \"table\", 14);\n        i0.ɵɵelementContainerStart(19, 15);\n        i0.ɵɵtemplate(20, MonthlyLoansDeductionComponent_th_20_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(21, MonthlyLoansDeductionComponent_td_21_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(22, 18);\n        i0.ɵɵtemplate(23, MonthlyLoansDeductionComponent_th_23_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(24, MonthlyLoansDeductionComponent_td_24_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(25, 19);\n        i0.ɵɵtemplate(26, MonthlyLoansDeductionComponent_th_26_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(27, MonthlyLoansDeductionComponent_td_27_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(28, 20);\n        i0.ɵɵtemplate(29, MonthlyLoansDeductionComponent_th_29_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(30, MonthlyLoansDeductionComponent_td_30_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(31, 21);\n        i0.ɵɵtemplate(32, MonthlyLoansDeductionComponent_th_32_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(33, MonthlyLoansDeductionComponent_td_33_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(34, 22);\n        i0.ɵɵtemplate(35, MonthlyLoansDeductionComponent_th_35_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(36, MonthlyLoansDeductionComponent_td_36_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(37, 23);\n        i0.ɵɵtemplate(38, MonthlyLoansDeductionComponent_th_38_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(39, MonthlyLoansDeductionComponent_td_39_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(40, 24);\n        i0.ɵɵtemplate(41, MonthlyLoansDeductionComponent_th_41_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(42, MonthlyLoansDeductionComponent_td_42_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(43, 25);\n        i0.ɵɵtemplate(44, MonthlyLoansDeductionComponent_th_44_Template, 2, 1, \"th\", 16);\n        i0.ɵɵtemplate(45, MonthlyLoansDeductionComponent_td_45_Template, 2, 1, \"td\", 17);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(46, MonthlyLoansDeductionComponent_tr_46_Template, 1, 0, \"tr\", 26);\n        i0.ɵɵtemplate(47, MonthlyLoansDeductionComponent_tr_47_Template, 1, 0, \"tr\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(48, \"div\")(49, \"mat-paginator\", 28);\n        i0.ɵɵlistener(\"page\", function MonthlyLoansDeductionComponent_Template_mat_paginator_page_49_listener($event) {\n          return ctx.pageChanged($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(50, \"div\", 29);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formHeaderLabels);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.formBodyLabels);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.lang == \"en\" ? \"Go\" : \"\\u064A\\u0630\\u0647\\u0628\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMap(i0.ɵɵpureFunction1(12, _c0, ctx.tableData.data.length == 0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.lang == \"en\" ? \"Export to Excel\" : \"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0625\\u0644\\u0649 Excel\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.lang == \"en\" ? \"Print PDF\" : \"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u0642\\u0648\\u0627\\u062A \\u0627\\u0644\\u062F\\u0641\\u0627\\u0639 \\u0627\\u0644\\u0634\\u0639\\u0628\\u064A\", \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataSource\", ctx.tableData);\n        i0.ɵɵadvance(28);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsToDisplay)(\"matHeaderRowDefSticky\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsToDisplay);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(14, _c1));\n      }\n    },\n    styles: [\".panel1bgColor[_ngcontent-%COMP%]{background-color:var(--fluroscent-blue)}.ArFontStyle[_ngcontent-%COMP%], .tableArFontStyle[_ngcontent-%COMP%]{font-family:Cairo}.filter-label[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;text-align:right}.header_color[_ngcontent-%COMP%]{color:#000!important}.light-sea-green[_ngcontent-%COMP%]{background-color:var(--light-sea-green)!important}.light-sea-green.btn.btn-primary[_ngcontent-%COMP%]:hover, .light-sea-green.btn.btn-primary[_ngcontent-%COMP%]:focus, .light-sea-green.btn.btn-primary[_ngcontent-%COMP%]:active{background-color:var(--comm-btn-hover)!important}.filter-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:end;padding-right:200px}.t_row_header[_ngcontent-%COMP%]{background-color:#8fdedc!important}.row_header[_ngcontent-%COMP%]{background-color:var(--leaf);color:#fff!important}.mat-sort-header-content[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center}.left-div[_ngcontent-%COMP%]{display:flex;justify-content:center}.right-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}\"]\n  });\n  return MonthlyLoansDeductionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}