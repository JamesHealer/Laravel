{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/modules/_services/offers.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"src/app/modules/_services/common.service\";\nimport * as i6 from \"src/app/modules/_services/financial.service\";\nimport * as i7 from \"src/app/modules/_services/db-common.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"ngx-bootstrap/datepicker\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/table\";\nimport * as i12 from \"@angular/material/paginator\";\nimport * as i13 from \"@angular/material/sort\";\nimport * as i14 from \"@angular/material/form-field\";\nimport * as i15 from \"@angular/material/input\";\nimport * as i16 from \"@angular/material/icon\";\nimport * as i17 from \"@angular/material/menu\";\nimport * as i18 from \"@ng-select/ng-select\";\nimport * as i19 from \"../../_partials/html-forms/html-forms.component\";\n\nfunction SpecialOfferMaintenaceComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.lang == \"en\" ? \"Add Offer\" : \"\\u0623\\u0636\\u0641 \\u0639\\u0631\\u0636\");\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Offer image is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Offer is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Service Type is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Service Sub Type is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Start date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" End date is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_span_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1, \" Amount is required \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return {\n    dateInputFormat: \"DD-MM-YYYY\"\n  };\n};\n\nfunction SpecialOfferMaintenaceComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵelement(1, \"div\", 35);\n    i0.ɵɵelementStart(2, \"div\", 36)(3, \"div\", 37)(4, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.onOfferFormSubmit());\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" \\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(7, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.resetForm());\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 40)(10, \"div\", 40)(11, \"form\", 41)(12, \"div\", 34)(13, \"div\", 35)(14, \"div\", 42);\n    i0.ɵɵelement(15, \"input\", 43);\n    i0.ɵɵelementStart(16, \"label\", 44);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"input\", 45, 46);\n    i0.ɵɵlistener(\"change\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_input_change_19_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.onOfferFileSelectChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 47)(22, \"button\", 48);\n    i0.ɵɵlistener(\"mousedown\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_button_mousedown_22_listener() {\n      i0.ɵɵrestoreView(_r27);\n\n      const _r18 = i0.ɵɵreference(20);\n\n      return i0.ɵɵresetView(_r18.click());\n    });\n    i0.ɵɵtext(23, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 49);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(26, SpecialOfferMaintenaceComponent_ng_template_6_span_26_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 35)(28, \"label\", 51);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"ng-select\", 52);\n    i0.ɵɵlistener(\"change\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_ng_select_change_30_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.onOfferTypeChange($event));\n    });\n    i0.ɵɵpipe(31, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(32, SpecialOfferMaintenaceComponent_ng_template_6_span_32_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 11)(34, \"div\", 35)(35, \"label\", 51);\n    i0.ɵɵtext(36, \"ServiceType\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"ng-select\", 53);\n    i0.ɵɵlistener(\"change\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_ng_select_change_37_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onServiceTypeChange($event));\n    })(\"ngModelChange\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_ng_select_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.serviceTypeSelected = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, SpecialOfferMaintenaceComponent_ng_template_6_span_38_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 35)(40, \"label\", 51);\n    i0.ɵɵtext(41, \"SubServiceType\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"ng-select\", 54);\n    i0.ɵɵlistener(\"change\", function SpecialOfferMaintenaceComponent_ng_template_6_Template_ng_select_change_42_listener($event) {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.onServiceSubTypeChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(43, SpecialOfferMaintenaceComponent_ng_template_6_span_43_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\", 11)(45, \"div\", 55)(46, \"label\", 56);\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"div\", 57)(49, \"span\", 58);\n    i0.ɵɵelement(50, \"i\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(51, \"input\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(52, SpecialOfferMaintenaceComponent_ng_template_6_span_52_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 55)(54, \"label\", 56);\n    i0.ɵɵtext(55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"div\", 57)(57, \"span\", 58);\n    i0.ɵɵelement(58, \"i\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(59, \"input\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(60, SpecialOfferMaintenaceComponent_ng_template_6_span_60_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\", 55)(62, \"label\", 56);\n    i0.ɵɵtext(63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(64, \"input\", 62);\n    i0.ɵɵtemplate(65, SpecialOfferMaintenaceComponent_ng_template_6_span_65_Template, 2, 0, \"span\", 50);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.offerForm.valid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].btnSave.title : ctx_r3.formBodyLabels[0].btnSave.arabicTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].btnCancle.title : ctx_r3.formBodyLabels[0].btnCancle.arabicTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.offerForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].lblUploadImage.title : ctx_r3.formBodyLabels[0].lblUploadImage.arabicTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.offerFile ? \"No file choosen\" : ctx_r3.offerFile, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.offerImage.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.offerImage.errors == null ? null : ctx_r3._offerForm.offerImage.errors.required));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].OfferType.title : ctx_r3.formBodyLabels[0].OfferType.arabicTitle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(31, 24, ctx_r3.offerType$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.offerType.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.offerType.errors == null ? null : ctx_r3._offerForm.offerType.errors.required));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"items\", ctx_r3.selectServiceType)(\"ngModel\", ctx_r3.serviceTypeSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.serviceType.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.serviceType.errors == null ? null : ctx_r3._offerForm.serviceType.errors.required));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"items\", ctx_r3.selectServiceSubType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.serviceSubType.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.serviceSubType.errors == null ? null : ctx_r3._offerForm.serviceSubType.errors.required));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].OfferStart.title : ctx_r3.formBodyLabels[0].OfferStart.arabicTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"bsConfig\", i0.ɵɵpureFunction0(26, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.offerStartDate.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.offerStartDate.errors == null ? null : ctx_r3._offerForm.offerStartDate.errors.required));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].OfferEnd.title : ctx_r3.formBodyLabels[0].OfferEnd.arabicTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"bsConfig\", i0.ɵɵpureFunction0(27, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.offerEndDate.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.offerEndDate.errors == null ? null : ctx_r3._offerForm.offerEndDate.errors.required));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels[0].OfferAmount.title : ctx_r3.formBodyLabels[0].OfferAmount.arabicTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3._offerForm.offerAmount.touched || ctx_r3.isFormSubmitted) && (ctx_r3._offerForm.offerAmount.errors == null ? null : ctx_r3._offerForm.offerAmount.errors.required));\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_th_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 64);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_30_a_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 73);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_td_30_a_12_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const item_r35 = i0.ɵɵnextContext().$implicit;\n      const ctx_r39 = i0.ɵɵnextContext();\n\n      const _r16 = i0.ɵɵreference(48);\n\n      return i0.ɵɵresetView(ctx_r39.open(_r16, item_r35.serviceId));\n    });\n    i0.ɵɵelement(1, \"i\", 70);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_30_a_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 73);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_td_30_a_13_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const item_r35 = i0.ɵɵnextContext().$implicit;\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.editData(item_r35.serviceId));\n    });\n    i0.ɵɵelement(1, \"i\", 71);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 65)(1, \"a\", 66);\n    i0.ɵɵelement(2, \"i\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" \\u00A0 \");\n    i0.ɵɵelementStart(4, \"mat-menu\", null, 68)(6, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_td_30_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r46);\n      const item_r35 = restoredCtx.$implicit;\n      const ctx_r45 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r45.actionBtnSelect(\"delete\", item_r35.serviceId));\n    })(\"click\", function SpecialOfferMaintenaceComponent_td_30_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r46);\n      const item_r35 = restoredCtx.$implicit;\n      const ctx_r47 = i0.ɵɵnextContext();\n\n      const _r16 = i0.ɵɵreference(48);\n\n      return i0.ɵɵresetView(ctx_r47.open(_r16, item_r35.serviceId));\n    });\n    i0.ɵɵelement(7, \"i\", 70);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 69);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_td_30_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r46);\n      const item_r35 = restoredCtx.$implicit;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.actionBtnSelect(\"edit\", item_r35.serviceId));\n    })(\"click\", function SpecialOfferMaintenaceComponent_td_30_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r46);\n      const item_r35 = restoredCtx.$implicit;\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.editData(item_r35.serviceId));\n    });\n    i0.ɵɵelement(10, \"i\", 71);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, SpecialOfferMaintenaceComponent_td_30_a_12_Template, 2, 0, \"a\", 72);\n    i0.ɵɵtemplate(13, SpecialOfferMaintenaceComponent_td_30_a_13_Template, 2, 0, \"a\", 72);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r35 = ctx.$implicit;\n\n    const _r36 = i0.ɵɵreference(5);\n\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r36);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.lang == \"en\" ? ctx_r5.formBodyLabels[0].Delete.title : ctx_r5.formBodyLabels[0].Delete.arabicTitle, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.lang == \"en\" ? ctx_r5.formBodyLabels[0].Edit.title : ctx_r5.formBodyLabels[0].Edit.arabicTitle, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selectedBtn == \"delete\" && ctx_r5.selectedId == item_r35.serviceId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selectedBtn == \"edit\" || ctx_r5.selectedId != item_r35.serviceId);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_th_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.lang == \"en\" ? ctx_r6.formBodyLabels[0].OfferType.title : ctx_r6.formBodyLabels[0].OfferType.arabicTitle);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 75);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r50 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r50.offerTypeName);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_th_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r8.lang == \"en\" ? ctx_r8.formBodyLabels[0].OfferStart.title : ctx_r8.formBodyLabels[0].OfferStart.arabicTitle);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 75);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r51 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, item_r51.offerStartDate, \"dd/MM/yyyy\"));\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_th_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r10.lang == \"en\" ? ctx_r10.formBodyLabels[0].OfferEnd.title : ctx_r10.formBodyLabels[0].OfferEnd.arabicTitle);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 75);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r52 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, item_r52.offerEndDate, \"dd/MM/yyyy\"));\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 74);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r12.lang == \"en\" ? ctx_r12.formBodyLabels[0].OfferAmount.title : ctx_r12.formBodyLabels[0].OfferAmount.arabicTitle);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 75);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r53 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r53.offerAmount);\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    \"hidden\": a0\n  };\n};\n\nfunction SpecialOfferMaintenaceComponent_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 76);\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c1, !ctx_r14.isLoadingCompleted));\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_tr_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 77);\n  }\n}\n\nfunction SpecialOfferMaintenaceComponent_ng_template_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 78)(1, \"h4\", 79);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 80);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_ng_template_47_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const modal_r55 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r55.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 81)(5, \"form\")(6, \"div\", 82)(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(9, \"div\", 83)(10, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_ng_template_47_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const modal_r55 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r55.close(\"yes\"));\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" \\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(13, \"button\", 85);\n    i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_ng_template_47_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r57);\n      const modal_r55 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r55.close(\"Save click\"));\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r17.lang == \"en\" ? ctx_r17.modalLabels[0].Delete.title : ctx_r17.modalLabels[0].Delete.arabicTitle);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r17.lang == \"en\" ? ctx_r17.modalLabels[0].Doyouwanttodeletethisrecord.title : ctx_r17.modalLabels[0].Doyouwanttodeletethisrecord.arabicTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r17.lang == \"en\" ? ctx_r17.modalLabels[0].Yes.title : ctx_r17.modalLabels[0].Yes.arabicTitle);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r17.lang == \"en\" ? ctx_r17.modalLabels[0].No.title : ctx_r17.modalLabels[0].No.arabicTitle);\n  }\n}\n\nconst _c2 = function () {\n  return [10, 20, 30];\n};\n\nexport class SpecialOfferMaintenaceComponent {\n  constructor(fb, offersService, toastrService, modalService, commonService, financialService, dbCommonService) {\n    this.fb = fb;\n    this.offersService = offersService;\n    this.toastrService = toastrService;\n    this.modalService = modalService;\n    this.commonService = commonService;\n    this.financialService = financialService;\n    this.dbCommonService = dbCommonService; //#region\n    // \n\n    this.columnsToDisplay = ['action', 'offerTypeName', 'offerStart', 'offerEnd', 'offerAmount']; // We need a normal array of data so we will subscribe to the observable and will get data\n\n    this.offers = new MatTableDataSource([]); // Hide footer while loading.\n\n    this.isLoadingCompleted = false; // Incase of any error will display error message.\n\n    this.dataLoadingStatus = ''; // True of any error\n\n    this.isError = false; // Search Term\n\n    this.searchTerm = ''; // We will get form lables from lcale storage and will put into array.\n\n    this.AppFormLabels = []; // We will filter form header labels array\n\n    this.formHeaderLabels = []; // We will filter form body labels array\n\n    this.formBodyLabels = [];\n    this.offersArray = [{\n      id: 1,\n      name: 'ConsumerLoanType'\n    }, {\n      id: 2,\n      name: 'Department'\n    }, {\n      id: 3,\n      name: 'DocType'\n    }, {\n      id: 4,\n      name: 'EmplContract'\n    }, {\n      id: 5,\n      name: 'FilingPlace'\n    }, {\n      id: 6,\n      name: 'FilingTag'\n    }, {\n      id: 7,\n      name: 'Occupation'\n    }]; // Modal close result...\n\n    this.closeResult = ''; // Getting base URL of Api from enviroment.\n\n    this.baseUrl = environment.KUPFApiUrl;\n    this.isFormSubmitted = false;\n    this.pageSize = 10;\n    this.selectServiceType = [];\n    this.selectServiceSubType = [];\n    this.modalLabels = [];\n    this.selectedBtn = 'edit'; // onElectronicForm1Select(event: any) {\n    //   if (event.target.files.length > 0) {\n    //     const file = event.target.files[0];\n    //     this.electricform1 = file;\n    //     this.electricform1=file.name;\n    //   }\n    // }\n    // onElectronicForm2Select(event: any) {\n    //   if (event.target.files.length > 0) {\n    //     const file = event.target.files[0];\n    //     this.electricform2 = file;\n    //     this.electricform2=file.name;\n    //   }\n    // }\n\n    this.isDisplayService = false;\n    this.formGroup = new FormGroup({\n      searchTerm: new FormControl(\"\")\n    });\n    this.setUpParentForm();\n  }\n\n  ngOnInit() {\n    this.commonService.getLang().subscribe(lang => {\n      this.lang = lang;\n    }); //#region TO SETUP THE FORM LOCALIZATION    \n    // TO GET THE LANGUAGE ID e.g. 1 = ENGLISH and 2 =  ARABIC\n\n    this.tenantId = JSON.parse(localStorage.getItem('user') || '{}')[0].tenantId;\n    this.languageType = localStorage.getItem('langType'); // To get the selected language...\n\n    this.language = localStorage.getItem('lang'); // To setup the form id so will will get form labels based on form Id\n\n    this.formId = 'OfferDetails';\n    var modalId = 'voucherModal'; // Check if LocalStorage is Not NULL\n\n    if (localStorage.getItem('AppLabels') != null) {\n      // Get data from LocalStorage\n      this.AppFormLabels = JSON.parse(localStorage.getItem('AppLabels') || '{}');\n\n      for (let labels of this.AppFormLabels) {\n        if (labels.formID == this.formId && labels.language == this.languageType) {\n          const jsonFormTitleDTLanguage = labels.formTitleDTLanguage.reduce((result, element) => {\n            result[element.labelId] = element;\n            return result;\n          }, {});\n          this.formBodyLabels.push(jsonFormTitleDTLanguage);\n        }\n\n        if (labels.formID == modalId) {\n          const jsonFormTitleDTLanguage = labels.formTitleDTLanguage.reduce((result, element) => {\n            result[element.labelId] = element;\n            return result;\n          }, {});\n          this.modalLabels.push(jsonFormTitleDTLanguage);\n        }\n      }\n    }\n\n    console.log(this.modalLabels);\n    console.log(this.formBodyLabels); //#endregion\n    //\n\n    this.initOfferForm(); //\n\n    this.LoadData(0); //\n\n    this.offerType$ = this.dbCommonService.GetOffers();\n    this.getServiceList();\n  }\n\n  actionBtnSelect(val, id) {\n    this.selectedBtn = val;\n    this.selectedId = id;\n  }\n\n  setUpParentForm() {\n    this.parentForm = this.fb.group({});\n  }\n\n  initOfferForm() {\n    this.offerForm = this.fb.group({\n      offerType: new FormControl('', Validators.required),\n      offerStartDate: new FormControl('', Validators.required),\n      offerEndDate: new FormControl('', Validators.required),\n      offerAmount: new FormControl('', Validators.required),\n      serviceId: new FormControl(0),\n      offerImage: new FormControl('', Validators.required),\n      offerTypeName: new FormControl(null),\n      serviceSubType: new FormControl('', Validators.required),\n      serviceType: new FormControl('', Validators.required)\n    });\n    this.parentForm.setControl('offerForm', this.offerForm);\n  }\n\n  get _offerForm() {\n    return this.offerForm.controls;\n  }\n\n  onOfferFormSubmit() {\n    var data = JSON.parse(localStorage.getItem(\"user\"));\n    const tenantId = data.map(obj => obj.tenantId);\n    this.isFormSubmitted = true;\n    let formData = Object.assign(Object.assign(Object.assign({}, this.parentForm.value.offerForm), this.parentForm.value.editorForm), {\n      tenentID: tenantId[0],\n      cruP_ID: 0\n    });\n    const finalformData = new FormData();\n    finalformData.append('File1', this.offerImage);\n    finalformData.append('ElectronicForm1Attachment', this.commonService.attachment1);\n    finalformData.append('ElectronicForm2Attachment', this.commonService.attachment2);\n    var startDate = this.offerForm.controls['offerStartDate'].value;\n    var offerStartDate = new Date(startDate).toISOString();\n    finalformData.append(\"offerStartDate\", offerStartDate);\n    var endDate = this.offerForm.controls['offerEndDate'].value;\n    var offerEndDate = new Date(endDate).toISOString();\n    finalformData.append(\"offerEndDate\", offerEndDate);\n    finalformData.set(\"tenentId\", formData.tenentID);\n    Object.keys(formData).forEach(key => finalformData.append(key, formData[key]));\n\n    if (this.offerForm.controls['serviceId'].value === '' || this.offerForm.controls['serviceId'].value === 0) {\n      this.offersService.AddOffer(finalformData).subscribe({\n        next: () => {\n          this.toastrService.success('Saved successfully', 'Success'); //this.offerForm.reset();\n\n          this.parentForm.reset();\n        },\n        error: error => {\n          if (error.status === 500) {\n            this.toastrService.error('Duplicate value found', 'Error');\n          }\n        }\n      });\n    } else {\n      this.offersService.UpdateOffer(finalformData).subscribe({\n        next: () => {\n          this.toastrService.success('Updated successfully', 'Success');\n          this.offerForm.reset();\n        },\n        error: error => {\n          if (error.status === 500) {\n            this.toastrService.error('Duplicate value found', 'Error');\n          }\n        }\n      });\n    }\n  }\n\n  editData(serviceId) {\n    if (this.offerFile != undefined) {\n      this.offerFile = \"\";\n    } // if(this.commonService.attachment1!=undefined){\n    //   //this.commonService.attachment1=\"\";\n    // }\n\n\n    if (this.electricform2 != undefined) {\n      this.electricform2 = \"\";\n    }\n\n    this.offersService.GetOfferById(serviceId).subscribe(response => {\n      this.commonService.ecform1 = response.electronicForm1;\n      this.commonService.ecform2 = response.electronicForm2;\n      console.log(response);\n      this.parentForm.patchValue({\n        offerForm: {\n          // offerType: +response.offerType,\n          offerStartDate: response.offerStartDate ? new Date(response.offerStartDate) : '',\n          offerEndDate: response.offerEndDate ? new Date(response.offerEndDate) : '',\n          offerAmount: response.offerAmount,\n          offerImage: response.offerImage,\n          serviceId: response.serviceId,\n          electronicForm1: response.electronicForm1,\n          electronicForm2: response.electronicForm2,\n          electronicForm1URL: response.electronicForm1URL,\n          electronicForm2URL: response.electronicForm2URL\n        },\n        editorForm: {\n          englishHtml: response.englishHTML,\n          arabicHtml: response.arabicHTML,\n          englishWebPageName: response.englishWebPageName,\n          arabicWebPageName: response.arabicWebPageName,\n          electronicForm1: response.electronicForm1,\n          electronicForm1URL: response.electronicForm1URL,\n          electronicForm2: response.electronicForm2,\n          electronicForm2URL: response.electronicForm2URL,\n          webEnglish: response.webEnglish,\n          webArabic: response.webArabic\n        }\n      });\n      this.offerFile = response.offerImage;\n      this.commonService.attachment1 = response.electronicForm1;\n      this.electricform2 = response.electronicForm2;\n      console.log('Editor Form', this.commonService.attachment1);\n    });\n  }\n\n  resetForm() {\n    this.offerForm.reset();\n  } // On file Select\n\n\n  onOfferFileSelectChange(event) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.offerImage = file;\n      this.offerFile = this.offerImage.name;\n    }\n  }\n\n  onOfferTypeChange($event) {\n    if ($event.shortname == \"Services\") {\n      this.getServiceList();\n      this.isDisplayService = true;\n      this.offerForm.controls['serviceType'].setValue(undefined);\n      this.offerForm.controls['serviceSubType'].setValue(undefined);\n    } else {\n      this.selectServiceType = [];\n      this.isDisplayService = false;\n\n      this._offerForm['serviceType'].setValue(0);\n\n      this._offerForm['serviceSubType'].setValue(0);\n    }\n\n    this.offerForm.patchValue({\n      offerTypeName: $event.shortname\n    });\n  }\n\n  LoadData(pageIndex) {\n    this.offersService.GetOffers(pageIndex + 1, this.pageSize, this.formGroup.value.searchTerm).subscribe(response => {\n      this.offers = new MatTableDataSource(response.body.serviceSetupDto);\n      this.offers.paginator = this.paginator;\n      this.offers.sort = this.sort;\n      this.isLoadingCompleted = true;\n      setTimeout(() => {\n        this.paginator.pageIndex = pageIndex;\n        this.paginator.length = response.body.totalRecords;\n      });\n    }, error => {\n      this.dataLoadingStatus = 'Error fetching the data';\n      this.isError = true;\n    });\n  } //#region \n  // Delete recored...\n\n\n  open(content, id) {\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title'\n    }).result.then(result => {\n      this.closeResult = `Closed with: ${result}`;\n\n      if (result === 'yes') {\n        this.offersService.DeleteOffer(id).subscribe(res => {\n          this.toastrService.success('Deleted Successfully', 'Deleted');\n        }, error => {\n          console.log(error);\n        }, () => {\n          // TO REFRESH / RELOAD THE PAGE WITHOUT REFRESH THE WHOLE PAGE.\n          this.LoadData(0);\n        });\n      }\n    }, reason => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n\n  getDismissReason(reason) {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n  getServiceList() {\n    this.financialService.GetServiceType(this.tenantId).subscribe(res => {\n      console.log(res);\n      this.selectServiceType = res.filter(val => {\n        return val.refId !== 1;\n      });\n    });\n  }\n\n  onServiceTypeChange(event) {\n    this.offerForm.controls['serviceSubType'].setValue(null);\n    this.dbCommonService.GetSubServiceTypeByServiceType(this.tenantId, event.refId).subscribe(res => {\n      this.selectServiceSubType = res;\n    });\n  }\n\n  onServiceSubTypeChange(event) {\n    console.log(event);\n  } //#endregion\n  //#region Material Search and Clear Filter\n\n\n  filterRecords(pageIndex = -1) {\n    if (this.formGroup.value.searchTerm != null && this.offers) {\n      this.offers.filter = this.formGroup.value.searchTerm.trim();\n    }\n\n    if (pageIndex == 0) this.LoadData(0);else this.LoadData(this.paginator.pageIndex);\n  }\n\n  clearFilter() {\n    var _a;\n\n    (_a = this.formGroup) === null || _a === void 0 ? void 0 : _a.patchValue({\n      searchTerm: \"\"\n    });\n    this.filterRecords();\n  }\n\n  onPaginationChange(event) {\n    this.pageSize = event.pageSize;\n    this.LoadData(event.pageIndex);\n  }\n\n}\n\nSpecialOfferMaintenaceComponent.ɵfac = function SpecialOfferMaintenaceComponent_Factory(t) {\n  return new (t || SpecialOfferMaintenaceComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.OffersService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgbModal), i0.ɵɵdirectiveInject(i5.CommonService), i0.ɵɵdirectiveInject(i6.FinancialService), i0.ɵɵdirectiveInject(i7.DbCommonService));\n};\n\nSpecialOfferMaintenaceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SpecialOfferMaintenaceComponent,\n  selectors: [[\"app-special-offer-maintenace\"]],\n  viewQuery: function SpecialOfferMaintenaceComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n      i0.ɵɵviewQuery(MatSort, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n    }\n  },\n  decls: 49,\n  vars: 13,\n  consts: [[\"type\", \"hidden\", \"name\", \"OfferDetails\", \"value\", \"OfferDetails\"], [\"OfferDetails\", \"\"], [\"ngbAddOffer\", \"ngbAccordion\"], [\"ngbPanelTitle\", \"\"], [\"ngbPanelContent\", \"\"], [3, \"parentFormGroup\"], [1, \"card\", \"mb-5\", \"mb-xl-8\"], [1, \"card-header\", \"border-0\", \"pt-5\", \"panel3bgColor\"], [1, \"card-toolbar\"], [\"lang\", \"AR-SA\", 1, \"text-dark\", \"ArFontStyle\"], [1, \"card-body\", \"py-3\"], [1, \"row\", \"mb-4\"], [3, \"formGroup\"], [\"appearance\", \"fill\", \"floatLabel\", \"never\", 1, \"w-100\"], [\"type\", \"search\", \"matInput\", \"\", \"formControlName\", \"searchTerm\", 1, \"ArFontStyle\", 3, \"keyup.enter\"], [\"matPrefix\", \"\", 1, \"material-icons\"], [\"matSuffix\", \"\", 1, \"material-icons\", 3, \"click\"], [1, \"table-container\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"w-100\", 3, \"dataSource\"], [\"matColumnDef\", \"action\"], [\"mat-header-cell\", \"\", \"class\", \"ArFontStyle\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"w-20 text-right\", 4, \"matCellDef\"], [\"matColumnDef\", \"offerTypeName\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"class\", \"ArFontStyle\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"ArFontStyle w-10\", 4, \"matCellDef\"], [\"matColumnDef\", \"offerStart\"], [\"matColumnDef\", \"offerEnd\", 1, \"w-30\"], [\"matColumnDef\", \"offerAmount\", 1, \"w-20\"], [\"mat-header-row\", \"\", \"class\", \"som_t_header\", 3, \"ngClass\", 4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"ngClass\"], [\"showFirstLastButtons\", \"\", 3, \"pageSize\", \"pageSizeOptions\", \"page\"], [\"deleteModal\", \"\"], [\"lang\", \"AR-SA\", 1, \"m-0\", \"ArFontStyle\"], [1, \"row\"], [1, \"col-lg-6\", \"fv-row\"], [1, \"col-lg-6\", \"fv-row\", \"text-left\"], [\"role\", \"group\", \"aria-label\", \"Basic example\", 1, \"btn-group\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"form\", \"userForm\", 1, \"float-left\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 1, \"float-left\", 3, \"click\"], [1, \"row\", \"gx-9\", \"gy-6\"], [\"autocomplete\", \"off\", \"id\", \"offerForm\", 3, \"formGroup\"], [1, \"mt-4\"], [\"type\", \"hidden\", \"formControlName\", \"serviceId\"], [\"for\", \"formFile\", \"lang\", \"AR-SA\", 1, \"form-label\", \"ArFontStyle\"], [\"type\", \"file\", \"formControlName\", \"offerImage\", \"title\", \"testing\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\", 3, \"hidden\", \"change\"], [\"file\", \"\"], [1, \"d-flex\"], [1, \"btn\", \"btn-sm\", \"btn-upload\", 3, \"mousedown\"], [1, \"border\", \"border-secondary\", \"rounded\", \"p-3\", \"w-100\", 2, \"height\", \"43px\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"lang\", \"AR-SA\", 1, \"col-form-label\", \"fw-bold\", \"fs-6\", \"ArFontStyle\"], [\"bindValue\", \"refId\", \"bindLabel\", \"shortname\", \"formControlName\", \"offerType\", \"lang\", \"AR-SA\", 3, \"items\", \"change\"], [\"bindLabel\", \"shortname\", \"formControlName\", \"serviceType\", \"bindValue\", \"refId\", \"lang\", \"AR-SA\", 3, \"items\", \"ngModel\", \"change\", \"ngModelChange\"], [\"bindLabel\", \"shortName\", \"formControlName\", \"serviceSubType\", \"bindValue\", \"refId\", \"lang\", \"AR-SA\", 3, \"items\", \"change\"], [1, \"col-lg-4\", \"fv-row\"], [\"lang\", \"AR-SA\", 1, \"col-lg-4\", \"col-form-label\", \"fw-bold\", \"fs-6\", \"ArFontStyle\"], [1, \"input-group\"], [\"id\", \"basic-addon1\", 1, \"input-group-text\"], [1, \"fas\", \"fa-calendar\"], [\"type\", \"text\", \"bsDatepicker\", \"\", \"formControlName\", \"offerStartDate\", 1, \"form-control\", 3, \"bsConfig\"], [\"type\", \"text\", \"bsDatepicker\", \"\", \"formControlName\", \"offerEndDate\", 1, \"form-control\", 3, \"bsConfig\"], [\"type\", \"number\", \"formControlName\", \"offerAmount\", \"name\", \"offerAmount\", \"id\", \"offerAmount\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\"], [1, \"text-danger\"], [\"mat-header-cell\", \"\", 1, \"ArFontStyle\"], [\"mat-cell\", \"\", 1, \"w-20\", \"text-right\"], [\"href\", \"javascript:void(0)\"], [1, \"bi\", \"fs-2\", \"bi-card-list\", \"text-warning\", 3, \"matMenuTriggerFor\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 1, \"ArFontStyle\", 3, \"click\"], [1, \"bi\", \"bi-trash3\", \"fs-2\", \"text-danger\"], [1, \"bi\", \"bi-pencil-square\", \"fs-2\", \"text-success\"], [\"href\", \"javascript:void(0)\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 1, \"ArFontStyle\"], [\"mat-cell\", \"\", 1, \"ArFontStyle\", \"w-10\"], [\"mat-header-row\", \"\", 1, \"som_t_header\", 3, \"ngClass\"], [\"mat-row\", \"\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"modal-footer\", \"text-right\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"]],\n  template: function SpecialOfferMaintenaceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"input\", 0, 1);\n      i0.ɵɵelementStart(2, \"ngb-accordion\", null, 2)(4, \"ngb-panel\");\n      i0.ɵɵtemplate(5, SpecialOfferMaintenaceComponent_ng_template_5_Template, 2, 1, \"ng-template\", 3);\n      i0.ɵɵtemplate(6, SpecialOfferMaintenaceComponent_ng_template_6_Template, 66, 28, \"ng-template\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(7, \"br\")(8, \"app-html-forms\", 5)(9, \"br\");\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"div\", 8)(13, \"h3\", 9);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"div\", 11)(17, \"form\", 12)(18, \"mat-form-field\", 13)(19, \"mat-label\");\n      i0.ɵɵtext(20, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 14);\n      i0.ɵɵlistener(\"keyup.enter\", function SpecialOfferMaintenaceComponent_Template_input_keyup_enter_21_listener() {\n        return ctx.filterRecords(0);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"mat-icon\", 15);\n      i0.ɵɵtext(23, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-icon\", 16);\n      i0.ɵɵlistener(\"click\", function SpecialOfferMaintenaceComponent_Template_mat_icon_click_24_listener() {\n        return ctx.clearFilter();\n      });\n      i0.ɵɵtext(25, \"close\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"div\", 17)(27, \"table\", 18);\n      i0.ɵɵelementContainerStart(28, 19);\n      i0.ɵɵtemplate(29, SpecialOfferMaintenaceComponent_th_29_Template, 1, 0, \"th\", 20);\n      i0.ɵɵtemplate(30, SpecialOfferMaintenaceComponent_td_30_Template, 14, 5, \"td\", 21);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(31, 22);\n      i0.ɵɵtemplate(32, SpecialOfferMaintenaceComponent_th_32_Template, 2, 1, \"th\", 23);\n      i0.ɵɵtemplate(33, SpecialOfferMaintenaceComponent_td_33_Template, 2, 1, \"td\", 24);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(34, 25);\n      i0.ɵɵtemplate(35, SpecialOfferMaintenaceComponent_th_35_Template, 2, 1, \"th\", 23);\n      i0.ɵɵtemplate(36, SpecialOfferMaintenaceComponent_td_36_Template, 3, 4, \"td\", 24);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(37, 26);\n      i0.ɵɵtemplate(38, SpecialOfferMaintenaceComponent_th_38_Template, 2, 1, \"th\", 23);\n      i0.ɵɵtemplate(39, SpecialOfferMaintenaceComponent_td_39_Template, 3, 4, \"td\", 24);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(40, 27);\n      i0.ɵɵtemplate(41, SpecialOfferMaintenaceComponent_th_41_Template, 2, 1, \"th\", 23);\n      i0.ɵɵtemplate(42, SpecialOfferMaintenaceComponent_td_42_Template, 2, 1, \"td\", 24);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(43, SpecialOfferMaintenaceComponent_tr_43_Template, 1, 3, \"tr\", 28);\n      i0.ɵɵtemplate(44, SpecialOfferMaintenaceComponent_tr_44_Template, 1, 0, \"tr\", 29);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"div\", 30)(46, \"mat-paginator\", 31);\n      i0.ɵɵlistener(\"page\", function SpecialOfferMaintenaceComponent_Template_mat_paginator_page_46_listener($event) {\n        return ctx.onPaginationChange($event);\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(47, SpecialOfferMaintenaceComponent_ng_template_47_Template, 15, 4, \"ng-template\", null, 32, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"parentFormGroup\", ctx.parentForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.lang == \"en\" ? \"Offer Details\" : \"\\u0623\\u0636\\u0641 \\u0639\\u0631\\u0636\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.formGroup);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"dataSource\", ctx.offers);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsToDisplay)(\"matHeaderRowDefSticky\", true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsToDisplay);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c1, !ctx.isLoadingCompleted));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(12, _c2));\n    }\n  },\n  dependencies: [i8.NgClass, i8.NgIf, i9.BsDatepickerDirective, i9.BsDatepickerInputDirective, i4.NgbAccordion, i4.NgbPanel, i4.NgbPanelTitle, i4.NgbPanelContent, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgForm, i1.FormGroupDirective, i1.FormControlName, i10.MatButton, i11.MatTable, i11.MatHeaderCellDef, i11.MatHeaderRowDef, i11.MatColumnDef, i11.MatCellDef, i11.MatRowDef, i11.MatHeaderCell, i11.MatCell, i11.MatHeaderRow, i11.MatRow, i12.MatPaginator, i13.MatSort, i13.MatSortHeader, i14.MatFormField, i14.MatLabel, i14.MatPrefix, i14.MatSuffix, i15.MatInput, i16.MatIcon, i17.MatMenu, i17.MatMenuItem, i17.MatMenuTrigger, i18.NgSelectComponent, i19.HtmlFormsComponent, i8.AsyncPipe, i8.DatePipe],\n  styles: [\".ArFontStyle[_ngcontent-%COMP%] {\\n  font-family: Cairo;\\n}\\n\\n.panel3bgColor[_ngcontent-%COMP%] {\\n  background-color: #7b9c7b;\\n}\\n\\n.btn-upload[_ngcontent-%COMP%] {\\n  border: 1px solid gray !important;\\n  width: 30%;\\n  height: 43px;\\n}\\n\\n.som_t_header[_ngcontent-%COMP%] {\\n  background-color: var(--fluroscent-green-v3);\\n}\\n\\n.table-container[_ngcontent-%COMP%] {\\n  position: sticky;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNwZWNpYWwtb2ZmZXItbWFpbnRlbmFjZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0o7O0FBQ0E7RUFDSSx5QkFBQTtBQUVKOztBQUFBO0VBQ0ksaUNBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtBQUdKOztBQUNBO0VBQ0ksNENBQUE7QUFFSjs7QUFDQTtFQUNJLGdCQUFBO0FBRUoiLCJmaWxlIjoic3BlY2lhbC1vZmZlci1tYWludGVuYWNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLkFyRm9udFN0eWxlIHtcclxuICAgIGZvbnQtZmFtaWx5OiBDYWlybztcclxufVxyXG4ucGFuZWwzYmdDb2xvcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM3YjljN2I7XHJcbn1cclxuLmJ0bi11cGxvYWQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JheSAhaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIGhlaWdodDogNDNweDtcclxufVxyXG5cclxuXHJcbi5zb21fdF9oZWFkZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1mbHVyb3NjZW50LWdyZWVuLXYzKTtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lcntcclxuICAgIHBvc2l0aW9uOiBzdGlja3k7XHJcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","MatPaginator","MatSort","MatTableDataSource","ModalDismissReasons","Observable","environment","i0","ctx_r3","item_r35","SpecialOfferMaintenaceComponent","constructor","fb","offersService","toastrService","modalService","commonService","financialService","dbCommonService","id","name","KUPFApiUrl","formGroup","searchTerm","setUpParentForm","ngOnInit","getLang","subscribe","lang","tenantId","JSON","parse","localStorage","getItem","languageType","language","formId","modalId","AppFormLabels","labels","formID","jsonFormTitleDTLanguage","formTitleDTLanguage","reduce","result","element","labelId","formBodyLabels","push","modalLabels","console","log","initOfferForm","LoadData","offerType$","GetOffers","getServiceList","actionBtnSelect","val","selectedBtn","selectedId","parentForm","group","offerForm","offerType","required","offerStartDate","offerEndDate","offerAmount","serviceId","offerImage","offerTypeName","serviceSubType","serviceType","setControl","_offerForm","controls","onOfferFormSubmit","data","map","obj","isFormSubmitted","formData","value","editorForm","tenentID","cruP_ID","finalformData","FormData","append","attachment1","attachment2","startDate","Date","toISOString","endDate","set","Object","keys","forEach","key","AddOffer","next","success","reset","error","status","UpdateOffer","editData","offerFile","undefined","electricform2","GetOfferById","response","ecform1","electronicForm1","ecform2","electronicForm2","patchValue","electronicForm1URL","electronicForm2URL","englishHtml","englishHTML","arabicHtml","arabicHTML","englishWebPageName","arabicWebPageName","webEnglish","webArabic","resetForm","onOfferFileSelectChange","event","target","files","length","file","onOfferTypeChange","$event","shortname","isDisplayService","setValue","selectServiceType","pageIndex","pageSize","offers","body","serviceSetupDto","paginator","sort","isLoadingCompleted","setTimeout","totalRecords","dataLoadingStatus","isError","open","content","ariaLabelledBy","then","closeResult","DeleteOffer","res","reason","getDismissReason","ESC","BACKDROP_CLICK","GetServiceType","filter","refId","onServiceTypeChange","GetSubServiceTypeByServiceType","selectServiceSubType","onServiceSubTypeChange","filterRecords","trim","clearFilter","_a","onPaginationChange","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["I:\\DESourceCode\\GitHubApril2022\\KupfAngular1\\src\\app\\modules\\home\\website\\special-offer-maintenace\\special-offer-maintenace.component.ts","I:\\DESourceCode\\GitHubApril2022\\KupfAngular1\\src\\app\\modules\\home\\website\\special-offer-maintenace\\special-offer-maintenace.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { observable, Observable } from 'rxjs';\r\nimport { FormTitleHd } from 'src/app/modules/models/formTitleHd';\r\nimport { OffersDto } from 'src/app/modules/models/OffersDto';\r\nimport { SelectServiceTypeDto } from 'src/app/modules/models/ServiceSetup/SelectServiceTypeDto';\r\nimport { CommonService } from 'src/app/modules/_services/common.service';\r\nimport { DbCommonService } from 'src/app/modules/_services/db-common.service';\r\nimport { OffersService } from 'src/app/modules/_services/offers.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { SelectSubServiceTypeDto } from 'src/app/modules/models/SelectSubServiceTypeDto';\r\nimport { FinancialService } from 'src/app/modules/_services/financial.service';\r\n\r\n@Component({\r\n  selector: 'app-special-offer-maintenace',\r\n  templateUrl: './special-offer-maintenace.component.html',\r\n  styleUrls: ['./special-offer-maintenace.component.scss']\r\n})\r\nexport class SpecialOfferMaintenaceComponent implements OnInit {\r\n  //#region\r\n  // \r\n  columnsToDisplay: string[] = ['action', 'offerTypeName', 'offerStart', 'offerEnd', 'offerAmount'];\r\n  //\r\n  offers$: Observable<OffersDto[]>;\r\n\r\n  // We need a normal array of data so we will subscribe to the observable and will get data\r\n  offers: MatTableDataSource<OffersDto> = new MatTableDataSource<any>([]);\r\n\r\n  // Paginator\r\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\r\n\r\n  // Sorting\r\n  @ViewChild(MatSort) sort!: MatSort;\r\n\r\n  // Hide footer while loading.\r\n  isLoadingCompleted: boolean = false;\r\n\r\n  // Incase of any error will display error message.\r\n  dataLoadingStatus: string = '';\r\n\r\n  // True of any error\r\n  isError: boolean = false;\r\n\r\n  // formGroup\r\n  formGroup: FormGroup;\r\n\r\n  // Search Term\r\n  searchTerm: string = '';\r\n  //#endregion\r\n\r\n  //#region \r\n  /*----------------------------------------------------*/\r\n\r\n  // Language Type e.g. 1 = ENGLISH and 2 =  ARABIC\r\n  languageType: any;\r\n\r\n  // Selected Language\r\n  language: any;\r\n\r\n  // We will get form lables from lcale storage and will put into array.\r\n  AppFormLabels: FormTitleHd[] = [];\r\n\r\n  // We will filter form header labels array\r\n  formHeaderLabels: any[] = [];\r\n\r\n  // We will filter form body labels array\r\n  formBodyLabels: any[] = [];\r\n\r\n  // FormId\r\n  formId: string;\r\n\r\n  /*----------------------------------------------------*/\r\n  //#endregion\r\n\r\n  //\r\n  parentForm: FormGroup;\r\n  //\r\n  offerForm: FormGroup;\r\n  offersArray = [\r\n    { id: 1, name: 'ConsumerLoanType' },\r\n    { id: 2, name: 'Department' },\r\n    { id: 3, name: 'DocType' },\r\n    { id: 4, name: 'EmplContract' },\r\n    { id: 5, name: 'FilingPlace' },\r\n    { id: 6, name: 'FilingTag' },\r\n    { id: 7, name: 'Occupation' },\r\n  ];\r\n  offerImage: File;\r\n  attachment1: File;\r\n  attachment2: File;\r\n\r\n  // Modal close result...\r\n  closeResult = '';\r\n  // Getting base URL of Api from enviroment.\r\n  baseUrl = environment.KUPFApiUrl;\r\n  electronicFile1: File;\r\n  electronicFile2: File;\r\n  isFormSubmitted = false;\r\n  // \r\n  offerType$: Observable<SelectServiceTypeDto[]>;\r\n  pageSize: number = 10;\r\n\r\n  selectServiceType$: Observable<SelectServiceTypeDto[]>;\r\n  selectServiceType: SelectServiceTypeDto[] = [];\r\n  selectServiceSubType$: Observable<SelectServiceTypeDto[]>;\r\n  selectServiceSubType: SelectSubServiceTypeDto[] = [];\r\n  serviceTypeSelected: any;\r\n  serviceSubTypeSelected: any;\r\n\r\n  constructor(private fb: FormBuilder,\r\n    private offersService: OffersService,\r\n    private toastrService: ToastrService,\r\n    private modalService: NgbModal,\r\n    private commonService: CommonService,\r\n    private financialService: FinancialService,\r\n    private dbCommonService:DbCommonService) {\r\n    this.formGroup = new FormGroup({\r\n      searchTerm: new FormControl(\"\")\r\n    })\r\n    this.setUpParentForm();\r\n  }\r\n  lang:string;\r\n  modalLabels: any = [];\r\n  tenantId:any;\r\n  ngOnInit(): void {\r\n    this.commonService.getLang().subscribe((lang: string) => {\r\n      this.lang = lang;\r\n    })\r\n    //#region TO SETUP THE FORM LOCALIZATION    \r\n    // TO GET THE LANGUAGE ID e.g. 1 = ENGLISH and 2 =  ARABIC\r\n    this.tenantId = JSON.parse(localStorage.getItem('user') || '{}')[0].tenantId\r\n    this.languageType = localStorage.getItem('langType');\r\n\r\n    // To get the selected language...\r\n    this.language = localStorage.getItem('lang');\r\n\r\n    // To setup the form id so will will get form labels based on form Id\r\n    this.formId = 'OfferDetails';\r\n    var modalId = 'voucherModal'\r\n    // Check if LocalStorage is Not NULL\r\n    if (localStorage.getItem('AppLabels') != null) {\r\n\r\n      // Get data from LocalStorage\r\n      this.AppFormLabels = JSON.parse(localStorage.getItem('AppLabels') || '{}');\r\n\r\n      for (let labels of this.AppFormLabels) {\r\n\r\n        if (labels.formID == this.formId && labels.language == this.languageType) {\r\n\r\n          const jsonFormTitleDTLanguage = labels.formTitleDTLanguage.reduce((result: any, element) => {\r\n            result[element.labelId] = element;\r\n            return result;\r\n          }, {})\r\n          this.formBodyLabels.push(jsonFormTitleDTLanguage);\r\n        }\r\n        if (labels.formID == modalId) {          \r\n          const jsonFormTitleDTLanguage = labels.formTitleDTLanguage.reduce((result: any, element) => {\r\n            result[element.labelId] = element;\r\n            return result;\r\n          }, {})\r\n          this.modalLabels.push(jsonFormTitleDTLanguage);\r\n        }\r\n      }\r\n    }\r\n    console.log(this.modalLabels)\r\n    console.log(this.formBodyLabels)\r\n    //#endregion\r\n    //\r\n    this.initOfferForm();\r\n    //\r\n    this.LoadData(0);\r\n    //\r\n    this.offerType$ = this.dbCommonService.GetOffers();\r\n    this.getServiceList();\r\n  }\r\n\r\n  selectedBtn:string = 'edit';\r\n  selectedId:number;\r\n  actionBtnSelect(val:string, id:number){\r\n    this.selectedBtn = val;\r\n    this.selectedId = id;\r\n  }\r\n\r\n\r\n  setUpParentForm() {\r\n    this.parentForm = this.fb.group({});\r\n  }\r\n  initOfferForm() {\r\n    this.offerForm = this.fb.group({\r\n      offerType: new FormControl('', Validators.required),\r\n      offerStartDate: new FormControl('', Validators.required),\r\n      offerEndDate: new FormControl('', Validators.required),\r\n      offerAmount: new FormControl('', Validators.required),\r\n      serviceId: new FormControl(0),\r\n      offerImage: new FormControl('', Validators.required),\r\n      offerTypeName: new FormControl(null),\r\n      serviceSubType: new FormControl('', Validators.required),\r\n      serviceType: new FormControl('', Validators.required)\r\n    })\r\n    this.parentForm.setControl('offerForm', this.offerForm);\r\n  }\r\n  \r\n  get _offerForm() { return this.offerForm.controls; }\r\n  \r\n  onOfferFormSubmit() {\r\n    var data = JSON.parse(localStorage.getItem(\"user\")!);\r\n    const tenantId = data.map((obj: { tenantId: any; }) => obj.tenantId);\r\n\r\n    this.isFormSubmitted = true;\r\n    let formData = {\r\n      ...this.parentForm.value.offerForm,\r\n      ...this.parentForm.value.editorForm,\r\n      tenentID: tenantId[0], cruP_ID: 0\r\n    }\r\n   \r\n    const finalformData = new FormData();\r\n    finalformData.append('File1', this.offerImage);\r\n\r\n    finalformData.append('ElectronicForm1Attachment', this.commonService.attachment1);\r\n    finalformData.append('ElectronicForm2Attachment', this.commonService.attachment2);\r\n\r\n    var startDate = this.offerForm.controls['offerStartDate'].value;\r\n    var offerStartDate = (new Date(startDate)).toISOString();\r\n    finalformData.append(\"offerStartDate\", offerStartDate);\r\n\r\n    var endDate = this.offerForm.controls['offerEndDate'].value;\r\n    var offerEndDate = (new Date(endDate)).toISOString();\r\n    finalformData.append(\"offerEndDate\", offerEndDate);\r\n\r\n    finalformData.set(\"tenentId\", formData.tenentID);\r\n\r\n    Object.keys(formData).forEach(key => finalformData.append(key, formData[key]));\r\n    if (this.offerForm.controls['serviceId'].value === '' || this.offerForm.controls['serviceId'].value === 0) {\r\n      this.offersService.AddOffer(finalformData).subscribe({\r\n        next: () => {\r\n          this.toastrService.success('Saved successfully', 'Success');\r\n          //this.offerForm.reset();\r\n          this.parentForm.reset();\r\n        },\r\n        error: (error) => {\r\n          if (error.status === 500) {\r\n            this.toastrService.error('Duplicate value found', 'Error');\r\n          }\r\n        }\r\n      })\r\n      \r\n    }\r\n    else {\r\n      this.offersService.UpdateOffer(finalformData).subscribe({\r\n        next: () => {\r\n          this.toastrService.success('Updated successfully', 'Success');\r\n          this.offerForm.reset();\r\n        },\r\n        error: (error) => {\r\n          if (error.status === 500) {\r\n            this.toastrService.error('Duplicate value found', 'Error');\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n  offerFile:any;\r\n  electricform1:any;\r\n  electricform2:any;\r\n  editData(serviceId: any) {\r\n    if(this.offerFile!=undefined){\r\n      this.offerFile=\"\";\r\n    } \r\n    // if(this.commonService.attachment1!=undefined){\r\n    //   //this.commonService.attachment1=\"\";\r\n    // }\r\n    if(this.electricform2!=undefined){\r\n      this.electricform2=\"\";\r\n    }\r\n    this.offersService.GetOfferById(serviceId).subscribe((response: any) => {  \r\n      this.commonService.ecform1=response.electronicForm1;\r\n      this.commonService.ecform2=response.electronicForm2;\r\n      console.log(response); \r\n      this.parentForm.patchValue({\r\n          offerForm: {\r\n            // offerType: +response.offerType,\r\n            offerStartDate: response.offerStartDate ? new Date(response.offerStartDate) : '',\r\n            offerEndDate: response.offerEndDate ? new Date(response.offerEndDate) : '',\r\n            offerAmount: response.offerAmount,\r\n            offerImage: response.offerImage,\r\n            serviceId: response.serviceId,\r\n            electronicForm1: response.electronicForm1,\r\n            electronicForm2: response.electronicForm2,\r\n            electronicForm1URL: response.electronicForm1URL,\r\n            electronicForm2URL: response.electronicForm2URL\r\n           \r\n          },\r\n          editorForm:{\r\n            englishHtml:response.englishHTML,\r\n            arabicHtml:response.arabicHTML,\r\n            englishWebPageName:response.englishWebPageName,\r\n            arabicWebPageName:response.arabicWebPageName,\r\n            electronicForm1: response.electronicForm1,\r\n            electronicForm1URL: response.electronicForm1URL,\r\n            electronicForm2: response.electronicForm2,\r\n            electronicForm2URL: response.electronicForm2URL,\r\n            webEnglish:response.webEnglish,\r\n            webArabic:response.webArabic             \r\n          }\r\n      })  \r\n      this.offerFile=response.offerImage;\r\n      this.commonService.attachment1=response.electronicForm1;\r\n      this.electricform2=response.electronicForm2;\r\n      console.log('Editor Form',this.commonService.attachment1)\r\n     \r\n    })\r\n    \r\n  }\r\n  resetForm() {\r\n    this.offerForm.reset();\r\n  }\r\n  // On file Select\r\n\r\n  onOfferFileSelectChange(event: any) {   \r\n    if (event.target.files.length > 0) {\r\n      const file = event.target.files[0];\r\n      this.offerImage = file;\r\n      this.offerFile=this.offerImage.name;\r\n    }\r\n  }\r\n  // onElectronicForm1Select(event: any) {\r\n  //   if (event.target.files.length > 0) {\r\n  //     const file = event.target.files[0];\r\n  //     this.electricform1 = file;\r\n  //     this.electricform1=file.name;\r\n  //   }\r\n  // }\r\n  // onElectronicForm2Select(event: any) {\r\n  //   if (event.target.files.length > 0) {\r\n  //     const file = event.target.files[0];\r\n  //     this.electricform2 = file;\r\n  //     this.electricform2=file.name;\r\n  //   }\r\n  // }\r\n  isDisplayService:boolean = false;\r\n  onOfferTypeChange($event: any) {   \r\n    if($event.shortname == \"Services\"){      \r\n      this.getServiceList();\r\n      this.isDisplayService = true;\r\n      this.offerForm.controls['serviceType'].setValue(undefined);\r\n      this.offerForm.controls['serviceSubType'].setValue(undefined);\r\n    }else{\r\n      this.selectServiceType = [];\r\n      this.isDisplayService = false;\r\n      this._offerForm['serviceType'].setValue(0);\r\n      this._offerForm['serviceSubType'].setValue(0);\r\n    }    \r\n    this.offerForm.patchValue({\r\n      offerTypeName :$event.shortname      \r\n    })    \r\n  }\r\n\r\n  LoadData(pageIndex: number) {\r\n      this.offersService.GetOffers(pageIndex + 1, this.pageSize, this.formGroup.value.searchTerm).subscribe((response: any) => {\r\n        this.offers = new MatTableDataSource<OffersDto>(response.body.serviceSetupDto);\r\n        this.offers.paginator = this.paginator;\r\n        this.offers.sort = this.sort;\r\n        this.isLoadingCompleted = true;\r\n        setTimeout(() => {\r\n          this.paginator.pageIndex = pageIndex;\r\n          this.paginator.length = response.body.totalRecords;\r\n        });\r\n    }, error => {\r\n      this.dataLoadingStatus = 'Error fetching the data';\r\n      this.isError = true;\r\n    })\r\n\r\n  }\r\n  //#region \r\n  // Delete recored...\r\n  open(content: any, id: number) {\r\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result) => {\r\n      this.closeResult = `Closed with: ${result}`;\r\n      if (result === 'yes') {\r\n        this.offersService.DeleteOffer(id).subscribe(\r\n          res => {\r\n            this.toastrService.success('Deleted Successfully', 'Deleted')\r\n          },\r\n          error => {\r\n            console.log(error);\r\n          }, () => {\r\n            // TO REFRESH / RELOAD THE PAGE WITHOUT REFRESH THE WHOLE PAGE.\r\n            this.LoadData(0);\r\n          })\r\n      }\r\n    }, (reason) => {\r\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n\r\n  }\r\n\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n\r\n  getServiceList(){    \r\n    this.financialService.GetServiceType(this.tenantId).subscribe((res:any)=>{\r\n      console.log(res);\r\n      this.selectServiceType = res.filter((val:any)=>{ return val.refId!== 1});\r\n    })\r\n  }\r\n\r\n  onServiceTypeChange(event: any) {\r\n    this.offerForm.controls['serviceSubType'].setValue(null);\r\n    this.dbCommonService.GetSubServiceTypeByServiceType(this.tenantId, event.refId).subscribe((res:any)=>{\r\n      this.selectServiceSubType = res;\r\n    })\r\n  }\r\n\r\n  onServiceSubTypeChange(event:any){\r\n    console.log(event);   \r\n  }\r\n  //#endregion\r\n  //#region Material Search and Clear Filter\r\n  filterRecords(pageIndex: number = -1) {\r\n    if (this.formGroup.value.searchTerm != null && this.offers) {\r\n      this.offers.filter = this.formGroup.value.searchTerm.trim();\r\n    }\r\n    if( pageIndex == 0) this.LoadData(0);\r\n    else this.LoadData(this.paginator.pageIndex);\r\n  }\r\n  clearFilter() {\r\n    this.formGroup?.patchValue({ searchTerm: \"\" });\r\n    this.filterRecords();\r\n  }\r\n  onPaginationChange(event: any) {\r\n    this.pageSize = event.pageSize;\r\n    this.LoadData(event.pageIndex);\r\n  }\r\n  //#endregion\r\n}\r\n","<!-- TO GET FORM ID AND SETTINGUP LANGAUGE. [disabled]=\"!offerForm.valid\"-->\r\n<input type=\"hidden\" #OfferDetails name=\"OfferDetails\" value=\"OfferDetails\">\r\n      \r\n\r\n<ngb-accordion #ngbAddOffer=\"ngbAccordion\">\r\n    <ngb-panel>\r\n        <ng-template ngbPanelTitle>\r\n            <h3 class=\"m-0 ArFontStyle\" lang=\"AR-SA\">{{lang == 'en' ? \"Add Offer\" : \"أضف عرض\"}}</h3>\r\n        </ng-template>\r\n        <ng-template ngbPanelContent>\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 fv-row\">\r\n                </div>\r\n                <div class=\"col-lg-6 fv-row text-left\">\r\n                    <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                        <button mat-raised-button color=\"primary\" class=\"float-left\" (click)=\"onOfferFormSubmit()\"\r\n                            form=\"userForm\" [disabled]=\"!offerForm.valid\">{{lang == 'en' ? formBodyLabels[0].btnSave.title : formBodyLabels[0].btnSave.arabicTitle}}</button> &nbsp;&nbsp;\r\n                        <button mat-raised-button color=\"accent\" class=\"float-left\"\r\n                            (click)=\"resetForm()\">{{lang == 'en' ? formBodyLabels[0].btnCancle.title : formBodyLabels[0].btnCancle.arabicTitle}}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row gx-9 gy-6\">\r\n                <div class=\"row gx-9 gy-6\">\r\n                    <form autocomplete=\"off\" [formGroup]=\"offerForm\" id=\"offerForm\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-lg-6 fv-row\">\r\n                                <div class=\"mt-4\">\r\n                                    <input type=\"hidden\" formControlName=\"serviceId\" />\r\n                                    <label for=\"formFile\" class=\"form-label ArFontStyle\"\r\n                                        lang=\"AR-SA\">{{lang == 'en' ? formBodyLabels[0].lblUploadImage.title : formBodyLabels[0].lblUploadImage.arabicTitle}}</label><br>\r\n                                    <input #file type=\"file\" class=\"form-control form-control-lg  mb-3 mb-lg-0\"\r\n                                        [hidden]=\"true\" formControlName=\"offerImage\" \r\n                                        (change)=\"onOfferFileSelectChange($event)\" title=\"testing\" />\r\n                                    <div class=\"d-flex\">\r\n                                        <button class=\"btn btn-sm btn-upload\" (mousedown)=\"file.click()\">Choose\r\n                                            file</button>\r\n                                        <div class=\"border border-secondary rounded p-3 w-100\" style=\"height: 43px;\">\r\n                                            {{!offerFile? \"No file choosen\":offerFile}}\r\n                                        </div>\r\n                                    </div>\r\n                                    <span class=\"text-danger\"\r\n                                    *ngIf=\"(_offerForm.offerImage.touched || isFormSubmitted) && _offerForm.offerImage.errors?.required\">\r\n                                    Offer image is required\r\n                                </span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-lg-6 fv-row\">\r\n                                <label class=\"col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                    lang=\"AR-SA\">{{lang == 'en' ? formBodyLabels[0].OfferType.title : formBodyLabels[0].OfferType.arabicTitle}}</label>\r\n                                <ng-select [items]=\"offerType$ | async\" bindValue=\"refId\" bindLabel=\"shortname\"\r\n                                    formControlName=\"offerType\" (change)=\"onOfferTypeChange($event)\" lang=\"AR-SA\">\r\n                                </ng-select>\r\n                                <span class=\"text-danger\"\r\n                                    *ngIf=\"(_offerForm.offerType.touched || isFormSubmitted) && _offerForm.offerType.errors?.required\">\r\n                                    Offer is required\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-4\">\r\n                            <div class=\"col-lg-6 fv-row\">\r\n                                <label class=\"col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                    lang=\"AR-SA\">ServiceType</label>\r\n                                <ng-select [items]=\"selectServiceType\" bindLabel=\"shortname\"\r\n                                    formControlName=\"serviceType\" bindValue=\"refId\" lang=\"AR-SA\"\r\n                                    (change)=\"onServiceTypeChange($event)\" [(ngModel)]=\"serviceTypeSelected\">\r\n                                </ng-select>\r\n                                <span class=\"text-danger\"\r\n                                *ngIf=\"(_offerForm.serviceType.touched || isFormSubmitted) && _offerForm.serviceType.errors?.required\">\r\n                                    Service Type is required\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"col-lg-6 fv-row\">\r\n                                <label class=\"col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                    lang=\"AR-SA\">SubServiceType</label>\r\n                                <ng-select [items]=\"selectServiceSubType\" bindLabel=\"shortName\"\r\n                                    formControlName=\"serviceSubType\" bindValue=\"refId\" lang=\"AR-SA\"\r\n                                    (change)=\"onServiceSubTypeChange($event)\">\r\n                                </ng-select>\r\n                                <span class=\"text-danger\"\r\n                                *ngIf=\"(_offerForm.serviceSubType.touched || isFormSubmitted) && _offerForm.serviceSubType.errors?.required\">\r\n                                    Service Sub Type is required\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row mb-4\">\r\n                            <div class=\"col-lg-4 fv-row\">\r\n                                <label class=\"col-lg-4 col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                    lang=\"AR-SA\">{{lang == 'en' ? formBodyLabels[0].OfferStart.title : formBodyLabels[0].OfferStart.arabicTitle}}</label>\r\n                                <div class=\"input-group\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                        <i class=\"fas fa-calendar\"></i>\r\n                                    </span>\r\n                                    <input type=\"text\" class=\"form-control\" bsDatepicker\r\n                                        [bsConfig]=\"{ dateInputFormat: 'DD-MM-YYYY' }\"\r\n                                        formControlName=\"offerStartDate\" />\r\n                                </div>\r\n                                <span class=\"text-danger\"\r\n                                    *ngIf=\"(_offerForm.offerStartDate.touched || isFormSubmitted) && _offerForm.offerStartDate.errors?.required\">\r\n                                    Start date is required\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"col-lg-4 fv-row\">\r\n                                <label class=\"col-lg-4 col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                    lang=\"AR-SA\">{{lang == 'en' ? formBodyLabels[0].OfferEnd.title : formBodyLabels[0].OfferEnd.arabicTitle}}</label>\r\n                                <div class=\"input-group\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                        <i class=\"fas fa-calendar\"></i>\r\n                                    </span>\r\n                                    <input type=\"text\" class=\"form-control\" bsDatepicker\r\n                                        [bsConfig]=\"{ dateInputFormat: 'DD-MM-YYYY' }\" formControlName=\"offerEndDate\" />\r\n                                </div>\r\n                                <span class=\"text-danger\"\r\n                                    *ngIf=\"(_offerForm.offerEndDate.touched || isFormSubmitted) && _offerForm.offerEndDate.errors?.required\">\r\n                                    End date is required\r\n                                </span>\r\n                            </div>\r\n                                <div class=\"col-lg-4 fv-row\">\r\n                                    <label class=\"col-lg-4 col-form-label fw-bold fs-6 ArFontStyle\"\r\n                                        lang=\"AR-SA\">{{lang == 'en' ? formBodyLabels[0].OfferAmount.title : formBodyLabels[0].OfferAmount.arabicTitle}}</label>\r\n                                    <input type=\"number\" class=\"form-control form-control-lg  mb-3 mb-lg-0\"\r\n                                        formControlName=\"offerAmount\" name=\"offerAmount\" id=\"offerAmount\" />\r\n                                        <span class=\"text-danger\"\r\n                                        *ngIf=\"(_offerForm.offerAmount.touched || isFormSubmitted) && _offerForm.offerAmount.errors?.required\">\r\n                                        Amount is required\r\n                                </span>\r\n                                </div>\r\n                                \r\n                        </div>\r\n                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </ngb-panel>\r\n</ngb-accordion>\r\n<br />\r\n<app-html-forms [parentFormGroup]=\"parentForm\">\r\n</app-html-forms>\r\n<br/>\r\n\r\n\r\n\r\n<div class=\"card mb-5 mb-xl-8\">\r\n    <!--begin::Header-->\r\n    <div class=\"card-header border-0 pt-5 panel3bgColor\">\r\n        <div class=\"card-toolbar\">\r\n            <h3 class=\"text-dark ArFontStyle\" lang=\"AR-SA\">{{lang == 'en' ? \"Offer Details\" : \"أضف عرض\"}}</h3>\r\n        </div>\r\n    </div>\r\n    <div class=\"card-body py-3\">\r\n        <div class=\"row mb-4\">\r\n            <form [formGroup]=\"formGroup\">\r\n                <mat-form-field appearance=\"fill\" class=\"w-100\" floatLabel=\"never\">\r\n                    <mat-label>Search</mat-label>\r\n                    <input type=\"search\" matInput formControlName=\"searchTerm\" (keyup.enter)=\"filterRecords(0)\"\r\n                        class=\"ArFontStyle\" />\r\n                    <mat-icon matPrefix class=\"material-icons\">search</mat-icon>\r\n                    <mat-icon matSuffix (click)=\"clearFilter()\" class=\"material-icons\">close</mat-icon>\r\n                </mat-form-field>\r\n            </form>\r\n            <div class=\"table-container\">\r\n                <table mat-table class=\"w-100\" [dataSource]=\"offers\" matSort>\r\n                    <ng-container matColumnDef=\"action\">\r\n                        <th mat-header-cell *matHeaderCellDef class=\"ArFontStyle\"></th>\r\n                        <td mat-cell *matCellDef=\"let item\" class=\"w-20 text-right\">\r\n                            <a href=\"javascript:void(0)\"> <i class=\"bi fs-2 bi-card-list text-warning\"\r\n                                [matMenuTriggerFor]=\"menu\"></i></a>\r\n                        &nbsp;\r\n                        <mat-menu #menu=\"matMenu\">\r\n                            <button mat-menu-item class=\"ArFontStyle\"\r\n                                (click)=\"actionBtnSelect('delete', item.serviceId)\"\r\n                                (click)=\"open(deleteModal,item.serviceId)\"><i class=\"bi bi-trash3 fs-2 text-danger\"></i>\r\n                                {{lang == 'en' ? formBodyLabels[0].Delete.title : formBodyLabels[0].Delete.arabicTitle}} </button>\r\n                            <button mat-menu-item class=\"ArFontStyle\"\r\n                                (click)=\"actionBtnSelect('edit', item.serviceId)\"\r\n                                (click)=\"editData(item.serviceId)\"><i\r\n                                    class=\"bi bi-pencil-square fs-2 text-success\"></i> \r\n                                    {{lang == 'en' ? formBodyLabels[0].Edit.title : formBodyLabels[0].Edit.arabicTitle}}</button>\r\n                        </mat-menu>\r\n                        <a *ngIf=\"selectedBtn =='delete' && selectedId==item.serviceId\" href=\"javascript:void(0)\"\r\n                                (click)=\"open(deleteModal,item.serviceId)\"><i class=\"bi bi-trash3 fs-2 text-danger\"></i></a>\r\n                        <a *ngIf=\"selectedBtn =='edit' || selectedId!=item.serviceId \" href=\"javascript:void(0)\"\r\n                            (click)=\"editData(item.serviceId)\"><i\r\n                                class=\"bi bi-pencil-square fs-2 text-success\"></i></a>\r\n\r\n                            <!-- <button mat-raised-button color=\"warn\"\r\n                                (click)=\"open(deleteModal,item.serviceId)\">{{lang == 'en' ? formBodyLabels[0].Delete.title : formBodyLabels[0].Delete.arabicTitle}}</button> |\r\n                            <button mat-raised-button color=\"accent\"\r\n                                (click)=\"editData(item.serviceId)\">{{lang == 'en' ? formBodyLabels[0].Edit.title : formBodyLabels[0].Edit.arabicTitle}}</button> -->\r\n                        </td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef=\"offerTypeName\">\r\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header class=\"ArFontStyle\">{{lang == 'en' ? formBodyLabels[0].OfferType.title : formBodyLabels[0].OfferType.arabicTitle}}</th>\r\n                        <td mat-cell *matCellDef=\"let item\" class=\"ArFontStyle w-10\">{{item.offerTypeName }}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef=\"offerStart\">\r\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header class=\"ArFontStyle\">{{lang == 'en' ? formBodyLabels[0].OfferStart.title : formBodyLabels[0].OfferStart.arabicTitle}}</th>\r\n                        <td mat-cell *matCellDef=\"let item\" class=\"ArFontStyle w-10\">{{item.offerStartDate | date:'dd/MM/yyyy'}}</td>\r\n                    </ng-container>\r\n\r\n                    <ng-container matColumnDef=\"offerEnd\" class=\"w-30\">\r\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header class=\"ArFontStyle\">{{lang == 'en' ? formBodyLabels[0].OfferEnd.title : formBodyLabels[0].OfferEnd.arabicTitle}}</th>\r\n                        <td mat-cell *matCellDef=\"let item\" class=\"ArFontStyle w-10\">{{item.offerEndDate | date:'dd/MM/yyyy'}}</td>\r\n                    </ng-container>\r\n                    <ng-container matColumnDef=\"offerAmount\" class=\"w-20\">\r\n                        <th mat-header-cell *matHeaderCellDef mat-sort-header class=\"ArFontStyle\">{{lang == 'en' ? formBodyLabels[0].OfferAmount.title : formBodyLabels[0].OfferAmount.arabicTitle}}</th>\r\n                        <td mat-cell *matCellDef=\"let item\" class=\"ArFontStyle w-10\">{{item.offerAmount }}</td>\r\n                    </ng-container>\r\n                    <tr mat-header-row *matHeaderRowDef=\"columnsToDisplay; sticky:true\"\r\n                        [ngClass]=\"{'hidden':!isLoadingCompleted}\" class=\"som_t_header\"></tr>\r\n                    <tr mat-row *matRowDef=\"let offers; columns: columnsToDisplay\"></tr>\r\n                </table>\r\n            </div>\r\n            <div [ngClass]=\"{'hidden':!isLoadingCompleted}\">\r\n                <mat-paginator [pageSize]=\"10\" [pageSizeOptions]=\"[10,20,30]\" (page)=\"onPaginationChange($event)\" showFirstLastButtons>\r\n                </mat-paginator>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--Delete Modal-->\r\n<ng-template #deleteModal let-modal>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\" id=\"modal-basic-title\">{{lang == 'en' ? modalLabels[0].Delete.title : modalLabels[0].Delete.arabicTitle}}</h4>\r\n        <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <form>\r\n            <div class=\"mb-3\">\r\n                <span>{{lang == 'en' ? modalLabels[0].Doyouwanttodeletethisrecord.title : modalLabels[0].Doyouwanttodeletethisrecord.arabicTitle}}</span>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class=\"modal-footer text-right\">\r\n        <button mat-raised-button color=\"warn\" (click)=\"modal.close('yes')\">{{lang == 'en' ? modalLabels[0].Yes.title : modalLabels[0].Yes.arabicTitle}}</button> &nbsp;&nbsp;\r\n        <button mat-raised-button color=\"accent\" (click)=\"modal.close('Save click')\">{{lang == 'en' ? modalLabels[0].No.title : modalLabels[0].No.arabicTitle}}</button>\r\n    </div>\r\n</ng-template>"]},"metadata":{},"sourceType":"module"}