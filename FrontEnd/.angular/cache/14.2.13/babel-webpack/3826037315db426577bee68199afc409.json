{"ast":null,"code":"import { ElementRef } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { map, startWith } from 'rxjs';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/modules/_services/common.service\";\nimport * as i3 from \"src/app/modules/_services/db-common.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"src/app/modules/_services/financial.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i9 from \"@ng-select/ng-select\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/chips\";\nimport * as i12 from \"@angular/material/icon\";\nimport * as i13 from \"@angular/material/autocomplete\";\nconst _c0 = [\"fruitInput\"];\nconst _c1 = [\"auto\"];\n\nfunction DocumentAttachmentComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.lang == \"en\" ? ctx_r2.formBodyLabels.en.hdrDocAttachment.title : ctx_r2.formBodyLabels.ar.hdrDocAttachment.title);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_mat_chip_26_mat_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 45);\n    i0.ɵɵtext(1, \"cancel\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_mat_chip_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-chip\", 43);\n    i0.ɵɵlistener(\"removed\", function DocumentAttachmentComponent_ng_template_6_mat_chip_26_Template_mat_chip_removed_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const fruit_r18 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.remove(fruit_r18));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, DocumentAttachmentComponent_ng_template_6_mat_chip_26_mat_icon_2_Template, 2, 0, \"mat-icon\", 44);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const fruit_r18 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"selectable\", ctx_r5.selectable)(\"removable\", ctx_r5.removable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", fruit_r18, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.removable);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_ng_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r22 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r22.refId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r22.shortname);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_ng_option_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r23.refId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r23.shortname);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_ng_option_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r24.refId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r24.shortname);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_ng_option_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r25.refId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r25.shortname);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_ng_option_109_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r26 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r26.refId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r26.shortname);\n  }\n}\n\nfunction DocumentAttachmentComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"form\", 8)(2, \"div\", 9)(3, \"div\", 10)(4, \"label\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"label\", 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10)(13, \"label\", 11);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"label\", 11);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 10)(21, \"label\", 11);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"mat-form-field\", 16)(24, \"mat-chip-list\", 17, 18);\n    i0.ɵɵtemplate(26, DocumentAttachmentComponent_ng_template_6_mat_chip_26_Template, 3, 4, \"mat-chip\", 19);\n    i0.ɵɵelementStart(27, \"input\", 20, 21);\n    i0.ɵɵlistener(\"matChipInputTokenEnd\", function DocumentAttachmentComponent_ng_template_6_Template_input_matChipInputTokenEnd_27_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.add($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"mat-autocomplete\", 22, 23);\n    i0.ɵɵlistener(\"optionSelected\", function DocumentAttachmentComponent_ng_template_6_Template_mat_autocomplete_optionSelected_29_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.selected($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(31, \"div\", 9)(32, \"div\", 24)(33, \"div\", 25)(34, \"label\", 26);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"ng-select\", 27);\n    i0.ɵɵtemplate(37, DocumentAttachmentComponent_ng_template_6_ng_option_37_Template, 2, 2, \"ng-option\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(38, \"div\", 24)(39, \"div\", 25)(40, \"label\", 26);\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"input\", 29, 30);\n    i0.ɵɵlistener(\"change\", function DocumentAttachmentComponent_ng_template_6_Template_input_change_42_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.onTheApplicationSelect($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 31)(45, \"button\", 32);\n    i0.ɵɵlistener(\"mousedown\", function DocumentAttachmentComponent_ng_template_6_Template_button_mousedown_45_listener() {\n      i0.ɵɵrestoreView(_r28);\n\n      const _r9 = i0.ɵɵreference(43);\n\n      return i0.ɵɵresetView(_r9.click());\n    });\n    i0.ɵɵtext(46, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"div\", 33);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(49, \"div\", 9)(50, \"div\", 24)(51, \"div\", 25)(52, \"label\", 26);\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"ng-select\", 34);\n    i0.ɵɵtemplate(55, DocumentAttachmentComponent_ng_template_6_ng_option_55_Template, 2, 2, \"ng-option\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(56, \"div\", 24)(57, \"div\", 25)(58, \"label\", 26);\n    i0.ɵɵtext(59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"input\", 29, 35);\n    i0.ɵɵlistener(\"change\", function DocumentAttachmentComponent_ng_template_6_Template_input_change_60_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onPersonalPhotoSelect($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"div\", 31)(63, \"button\", 32);\n    i0.ɵɵlistener(\"mousedown\", function DocumentAttachmentComponent_ng_template_6_Template_button_mousedown_63_listener() {\n      i0.ɵɵrestoreView(_r28);\n\n      const _r11 = i0.ɵɵreference(61);\n\n      return i0.ɵɵresetView(_r11.click());\n    });\n    i0.ɵɵtext(64, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\", 33);\n    i0.ɵɵtext(66);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(67, \"div\", 9)(68, \"div\", 24)(69, \"div\", 25)(70, \"label\", 26);\n    i0.ɵɵtext(71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(72, \"ng-select\", 36);\n    i0.ɵɵtemplate(73, DocumentAttachmentComponent_ng_template_6_ng_option_73_Template, 2, 2, \"ng-option\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(74, \"div\", 24)(75, \"div\", 25)(76, \"label\", 26);\n    i0.ɵɵtext(77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(78, \"input\", 29, 37);\n    i0.ɵɵlistener(\"change\", function DocumentAttachmentComponent_ng_template_6_Template_input_change_78_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.onWorkIdSelect($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(80, \"div\", 31)(81, \"button\", 32);\n    i0.ɵɵlistener(\"mousedown\", function DocumentAttachmentComponent_ng_template_6_Template_button_mousedown_81_listener() {\n      i0.ɵɵrestoreView(_r28);\n\n      const _r13 = i0.ɵɵreference(79);\n\n      return i0.ɵɵresetView(_r13.click());\n    });\n    i0.ɵɵtext(82, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(83, \"div\", 33);\n    i0.ɵɵtext(84);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(85, \"div\", 9)(86, \"div\", 24)(87, \"div\", 25)(88, \"label\", 26);\n    i0.ɵɵtext(89);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(90, \"ng-select\", 38);\n    i0.ɵɵtemplate(91, DocumentAttachmentComponent_ng_template_6_ng_option_91_Template, 2, 2, \"ng-option\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(92, \"div\", 24)(93, \"div\", 25)(94, \"label\", 26);\n    i0.ɵɵtext(95);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(96, \"input\", 29, 39);\n    i0.ɵɵlistener(\"change\", function DocumentAttachmentComponent_ng_template_6_Template_input_change_96_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.onCivilIdSelect($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(98, \"div\", 31)(99, \"button\", 32);\n    i0.ɵɵlistener(\"mousedown\", function DocumentAttachmentComponent_ng_template_6_Template_button_mousedown_99_listener() {\n      i0.ɵɵrestoreView(_r28);\n\n      const _r15 = i0.ɵɵreference(97);\n\n      return i0.ɵɵresetView(_r15.click());\n    });\n    i0.ɵɵtext(100, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(101, \"div\", 33);\n    i0.ɵɵtext(102);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(103, \"div\", 9)(104, \"div\", 24)(105, \"div\", 25)(106, \"label\", 26);\n    i0.ɵɵtext(107);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(108, \"ng-select\", 40);\n    i0.ɵɵtemplate(109, DocumentAttachmentComponent_ng_template_6_ng_option_109_Template, 2, 2, \"ng-option\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(110, \"div\", 24)(111, \"div\", 25)(112, \"label\", 26);\n    i0.ɵɵtext(113);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(114, \"input\", 29, 41);\n    i0.ɵɵlistener(\"change\", function DocumentAttachmentComponent_ng_template_6_Template_input_change_114_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.onSalaryDataSelect($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(116, \"div\", 31)(117, \"button\", 32);\n    i0.ɵɵlistener(\"mousedown\", function DocumentAttachmentComponent_ng_template_6_Template_button_mousedown_117_listener() {\n      i0.ɵɵrestoreView(_r28);\n\n      const _r17 = i0.ɵɵreference(115);\n\n      return i0.ɵɵresetView(_r17.click());\n    });\n    i0.ɵɵtext(118, \"Choose file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(119, \"div\", 33);\n    i0.ɵɵtext(120);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(121, \"div\", 9)(122, \"div\", 24)(123, \"div\", 25)(124, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function DocumentAttachmentComponent_ng_template_6_Template_button_click_124_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.saveDocumentAttachements());\n    });\n    i0.ɵɵtext(125);\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(25);\n\n    const _r7 = i0.ɵɵreference(30);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.getForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblCreatedDate.title : ctx_r3.formBodyLabels.ar.lblCreatedDate.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblAttachId.title : ctx_r3.formBodyLabels.ar.lblAttachId.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSubject.title : ctx_r3.formBodyLabels.ar.lblSubject.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblRemarks.title : ctx_r3.formBodyLabels.ar.lblRemarks.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblMetaTag.title : ctx_r3.formBodyLabels.ar.lblMetaTag.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.metaTag);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matAutocomplete\", _r7)(\"matChipInputFor\", _r4)(\"matChipInputSeparatorKeyCodes\", ctx_r3.separatorKeysCodes)(\"matChipInputAddOnBlur\", ctx_r3.addOnBlur);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSelectDocTyp.title : ctx_r3.formBodyLabels.ar.lblSelectDocTyp.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.ApplicantDoc$);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblTheApplication.title : ctx_r3.formBodyLabels.ar.lblTheApplication.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.applicationSelectFile ? \"No file choosen\" : ctx_r3.applicationSelectFile, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSelectDocTyp.title : ctx_r3.formBodyLabels.ar.lblSelectDocTyp.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.selectDocTypeDto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblPersonalPhoto.title : ctx_r3.formBodyLabels.ar.lblPersonalPhoto.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.personPhotofile ? \"No file choosen\" : ctx_r3.personPhotofile, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSelectDocTyp.title : ctx_r3.formBodyLabels.ar.lblSelectDocTyp.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.selectDocTypeDto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblCopyWorkId.title : ctx_r3.formBodyLabels.ar.lblCopyWorkId.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.workIdfile ? \"No file choosen\" : ctx_r3.workIdfile, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSelectDocTyp.title : ctx_r3.formBodyLabels.ar.lblSelectDocTyp.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.selectDocTypeDto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblCopyCivilId.title : ctx_r3.formBodyLabels.ar.lblCopyCivilId.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.civilIdfile ? \"No file choosen\" : ctx_r3.civilIdfile, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSelectDocTyp.title : ctx_r3.formBodyLabels.ar.lblSelectDocTyp.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.selectDocTypeDto);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? ctx_r3.formBodyLabels.en.lblSystemSalaryData.title : ctx_r3.formBodyLabels.ar.lblSystemSalaryData.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", !ctx_r3.salarydateFile ? \"No file choosen\" : ctx_r3.salarydateFile, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.lang == \"en\" ? \"Save Documents\" : \"Save Documents\");\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    \"documentAccordian\": a0\n  };\n};\n\nexport let DocumentAttachmentComponent = /*#__PURE__*/(() => {\n  class DocumentAttachmentComponent {\n    constructor(fb, common, dbCommonService, activatedRout, toastrService, financialService) {\n      this.fb = fb;\n      this.common = common;\n      this.dbCommonService = dbCommonService;\n      this.activatedRout = activatedRout;\n      this.toastrService = toastrService;\n      this.financialService = financialService;\n      this.addOnBlur = true;\n      this.visible = true;\n      this.selectable = true;\n      this.removable = true;\n      this.fruitCtrl = new FormControl();\n      this.metaTag = [];\n      this.allFruits = ['Apple', 'Lemon', 'Lime', 'Orange', 'Strawberry'];\n      this.separatorKeysCodes = [ENTER, COMMA]; // We will get form lables from lcale storage and will put into array.\n\n      this.AppFormLabels = []; // We will filter form header labels array\n\n      this.formHeaderLabels = []; // We will filter form body labels array\n\n      this.formBodyLabels = {\n        en: {},\n        ar: {}\n      };\n      this.mytransid = this.activatedRout.snapshot.paramMap.get('mytransid');\n      this.filteredFruits = this.fruitCtrl.valueChanges.pipe(startWith(null), map(fruit => fruit ? this._filter(fruit) : this.allFruits.slice()));\n    }\n\n    ngOnInit() {\n      //\n      this.getFormdvalue(); //\n\n      this.GetDocType();\n      this.GetDocApplicantType();\n      this.common.getLang().subscribe(lang => {\n        this.lang = lang;\n      }); //#region TO SETUP THE FORM LOCALIZATION    \n      // TO GET THE LANGUAGE ID e.g. 1 = ENGLISH and 2 =  ARABIC\n\n      this.languageType = localStorage.getItem('langType'); // To get the selected language...\n\n      this.language = localStorage.getItem('lang');\n      this.formId = 'AddService'; // Check if LocalStorage is Not NULL\n\n      if (localStorage.getItem('AppLabels') != null) {\n        // Get data from LocalStorage\n        this.AppFormLabels = JSON.parse(localStorage.getItem('AppLabels') || '{}');\n\n        for (let labels of this.AppFormLabels) {\n          if (labels.formID == this.formId) {\n            const jsonFormTitleDTLanguage = labels.formTitleDTLanguage.reduce((result, element) => {\n              result[element.labelId] = element;\n              return result;\n            }, {});\n\n            if (labels.language == 1) {\n              this.formBodyLabels['en'] = jsonFormTitleDTLanguage;\n            } else if (labels.language == 2) {\n              this.formBodyLabels['ar'] = jsonFormTitleDTLanguage;\n            } // this.formBodyLabels.push(jsonFormTitleDTLanguage);\n\n\n            console.log(this.formHeaderLabels);\n            console.log(this.formBodyLabels);\n          }\n        }\n      }\n\n      if (this.mytransid) {\n        this.financialService.GetDocumentAttachmentById(this.mytransid).subscribe(response => {\n          var val = response.find(x => {\n            return x.serialno == \"6\" && x.documentType == \"1\";\n          }); // var MetaValue = this.add(val.metaTags)\n\n          this.getForm.patchValue({\n            subject: val.subject,\n            attachmentRemarks: val.remarks,\n            createdDate: val.createdDate,\n            attachId: val.attachId,\n            // mtag: MetaValue,\n            appplicationFileDocType: val.documentType,\n            applicationSelectFile: val.attachmentPath,\n            appplicationFileDocument: val.attachmentByName\n          });\n        });\n      } // Get Tenant Id\n\n\n      var data = JSON.parse(localStorage.getItem(\"user\"));\n      this.tenantId = data.map(obj => obj.tenantId);\n      this.financialService.GetFinancialServiceById(this.mytransid).subscribe(response => {\n        this.GetServiceTypeSubServiceTypeByTenentId(response.serviceTypeId, response.serviceSubTypeId); // this.serviceTypeSelected = response.serviceType;\n        // this.onServiceSubTypeChange(response.serviceTypeId, response.serviceSubTypeId);\n      });\n    }\n\n    GetServiceTypeSubServiceTypeByTenentId(a1, b1) {\n      var data = JSON.parse(localStorage.getItem(\"user\"));\n      const tenantId = data.map(obj => obj.tenantId);\n      this.financialService.GetServiceTypeSubServiceTypeByTenentId(tenantId).subscribe(res => {\n        var val = res.find(x => {\n          return x.serviceTypeId == a1 && x.subServiceTypeId == b1;\n        });\n        console.log(\" this.totalAllowedDocuemnts\", val);\n        this.totalAllowedDocuemnts = val.documentsCount;\n        console.log(\"totalAllowedDocuemnts\", this.totalAllowedDocuemnts); // this.getForm.patchValue({\n        //   //\n        // });\n\n        console.log(val);\n      });\n    }\n\n    GetDocType() {\n      this.dbCommonService.GetDocTypes(21).subscribe(response => {\n        console.log(response);\n        this.selectDocTypeDto = response;\n      }, error => {\n        console.log(error);\n      });\n    }\n\n    GetDocApplicantType() {\n      this.dbCommonService.GetDocApplicantType().subscribe(res => {\n        this.ApplicantDoc$ = res;\n      });\n    }\n\n    onTheApplicationSelect(event) {\n      var _a, _b;\n\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        (_b = (_a = this.getForm) === null || _a === void 0 ? void 0 : _a.get('appplicationFileDocument')) === null || _b === void 0 ? void 0 : _b.setValue(file);\n        this.applicationSelectFile = file.name;\n      }\n    }\n\n    onPersonalPhotoSelect(event) {\n      var _a, _b;\n\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        (_b = (_a = this.getForm) === null || _a === void 0 ? void 0 : _a.get('personalPhotoDocument')) === null || _b === void 0 ? void 0 : _b.setValue(file);\n        this.personPhotofile = file.name;\n      }\n    }\n\n    onWorkIdSelect(event) {\n      var _a, _b;\n\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        (_b = (_a = this.getForm) === null || _a === void 0 ? void 0 : _a.get('workIdDocument')) === null || _b === void 0 ? void 0 : _b.setValue(file);\n        this.workIdfile = file.name;\n      }\n    }\n\n    onCivilIdSelect(event) {\n      var _a, _b;\n\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        (_b = (_a = this.getForm) === null || _a === void 0 ? void 0 : _a.get('civilIdDocument')) === null || _b === void 0 ? void 0 : _b.setValue(file);\n        this.civilIdfile = file.name;\n      }\n    }\n\n    onSalaryDataSelect(event) {\n      var _a, _b;\n\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        (_b = (_a = this.getForm) === null || _a === void 0 ? void 0 : _a.get('salaryDataDocument')) === null || _b === void 0 ? void 0 : _b.setValue(file);\n        this.salarydateFile = file.name;\n      }\n    }\n\n    add(event) {\n      // Add fruit only when MatAutocomplete is not open\n      // To make sure this does not conflict with OptionSelected Event\n      if (!this.matAutocomplete.isOpen) {\n        const input = event.input;\n        const value = event.value; // Add our fruit\n\n        if ((value || '').trim()) {\n          this.metaTag.push(value.trim());\n          JSON.stringify(this.metaTag);\n        } // Reset the input value\n\n\n        if (input) {\n          input.value = '';\n        }\n\n        this.fruitCtrl.setValue(null);\n      }\n    }\n\n    remove(fruit) {\n      const index = this.metaTag.indexOf(fruit);\n\n      if (index >= 0) {\n        this.metaTag.splice(index, 1);\n      }\n    }\n\n    selected(event) {\n      this.metaTag.push(event.option.viewValue);\n      this.fruitInput.nativeElement.value = '';\n      this.fruitCtrl.setValue(null);\n    }\n\n    _filter(value) {\n      const filterValue = value.toLowerCase();\n      return this.allFruits.filter(fruit => fruit.toLowerCase().indexOf(filterValue) === 0);\n    }\n\n    saveDocumentAttachements() {\n      //this.isFormSubmitted = true;\n      this.getForm.patchValue({\n        // mytransid: new FormControl('0'),\n        subject: this.getForm.controls['subject'].value ? this.getForm.controls['subject'].value : \"\"\n      });\n      setTimeout(() => {\n        var _a; //this.setValidators(this.notSubscriber);\n        // Get Tenant Id\n\n\n        var data = JSON.parse(localStorage.getItem(\"user\"));\n        const tenantId = data.map(obj => obj.tenantId);\n        const locationId = data.map(obj => obj.locationId);\n        const username = data.map(obj => obj.username);\n        const periodCode = data.map(obj => obj.periodCode);\n        const prevPeriodCode = data.map(obj => obj.prevPeriodCode);\n        const nextPeriodCode = data.map(obj => obj.nextPeriodCode);\n        let formData = Object.assign(Object.assign({}, this.getForm.value), {\n          tenentID: tenantId,\n          cruP_ID: 0,\n          locationID: locationId,\n          userId: username,\n          periodCode: periodCode,\n          prevPeriodCode: prevPeriodCode,\n          nextPeriodCode: nextPeriodCode\n        });\n        formData['subject'] = (_a = this.getForm.get('subject')) === null || _a === void 0 ? void 0 : _a.value;\n        let finalformData = new FormData();\n        Object.keys(formData).forEach(key => finalformData.append(key, formData[key]));\n\n        if (this.mytransid) {\n          //console.log('edit click',formData);\n          this.financialService.UpdateDocumentAttachmentService(finalformData).subscribe(response => {\n            if (response.isSuccess == false) {\n              this.toastrService.error(response.message, 'Error');\n            } else {\n              this.toastrService.success('Updated successfully', 'Success');\n            }\n          });\n        } else {\n          //console.log('add click',formData);\n          this.financialService.AddDocumentAttachmentService(finalformData).subscribe(response => {\n            if (response.isSuccess == false) {\n              this.toastrService.error(response.message, 'Error');\n            } else {\n              this.toastrService.success(response.message, 'Success');\n            }\n          });\n        }\n\n        this.toastrService.warning(\"Save click of docu att\", 'Warning');\n      });\n    }\n\n    getFormdvalue() {\n      this.getForm = this.fb.group({\n        subject: ['', Validators.required],\n        attachmentRemarks: ['', Validators.required],\n        appplicationFileDocType: ['', Validators.required],\n        appplicationFileDocument: ['', Validators.required],\n        civilIdDocType: ['', Validators.required],\n        civilIdDocument: ['', Validators.required],\n        workIdDocType: ['', Validators.required],\n        workIdDocument: ['', Validators.required],\n        personalPhotoDocType: ['', Validators.required],\n        personalPhotoDocument: ['', Validators.required],\n        salaryDataDocType: ['', Validators.required],\n        salaryDataDocument: ['', Validators.required],\n        mtag: ['', Validators.required],\n        attachId: [''],\n        createdDate: ['']\n      });\n    }\n\n    setValueofDocForm(res) {\n      console.log(res);\n      this.value = res.transactionHDDMSDtos;\n      let val = res.transactionHDDMSDtos;\n      this.applicationSelectFile = val[0].attachmentByName;\n      this.personPhotofile = val[1].attachmentByName;\n      this.workIdfile = val[2].attachmentByName;\n      this.civilIdfile = val[3].attachmentByName;\n      this.salarydateFile = val[4].attachmentByName;\n      this.metaTag = val[0].metaTags.split(',');\n      this.getForm.controls['subject'].setValue(val[0].subject);\n      this.getForm.controls['attachmentRemarks'].setValue(val[0].remarks);\n      this.getForm.controls['attachId'].setValue(val[0].attachId);\n      this.getForm.controls['createdDate'].setValue(moment(val[0].createdDate).format(\"DD-MM-yyyy\")); //\n\n      this.getForm.controls['appplicationFileDocType'].setValue(val[0].documentType);\n      this.getForm.controls['civilIdDocType'].setValue(val[1].documentType);\n      this.getForm.controls['workIdDocType'].setValue(val[2].documentType);\n      this.getForm.controls['personalPhotoDocType'].setValue(val[3].documentType);\n      this.getForm.controls['salaryDataDocType'].setValue(val[4].documentType);\n      this.convertTofile(); //   \n    }\n\n    convertTofile() {\n      // console.log((this.value[0].attachmentByName).substring(this.value[0].attachmentByName.lastIndexOf(\".\") , this.value[0].attachmentByName.length));\n      // this.file0 = new File([this.value[0].attachment], this.value[0].attachmentByName,{type : (this.value[0].attachmentByName).substring(this.value[0].attachmentByName.lastIndexOf(\".\"), this.value[0].attachmentByName.length)});\n      // this.file1 = new File([this.value[1].attachment], this.value[1].attachmentByName, {type : (this.value[1].attachmentByName).substring(this.value[1].attachmentByName.lastIndexOf(\".\"), this.value[1].attachmentByName.length)});\n      // this.file2 = new File([this.value[2].attachment], this.value[2].attachmentByName, {type : (this.value[2].attachmentByName).substring(this.value[2].attachmentByName.lastIndexOf(\".\"), this.value[2].attachmentByName.length)});\n      // this.file3 = new File([this.value[3].attachment], this.value[3].attachmentByName, {type : (this.value[3].attachmentByName).substring(this.value[3].attachmentByName.lastIndexOf(\".\"), this.value[3].attachmentByName.length)});\n      // this.file4 = new File([this.value[4].attachment], this.value[4].attachmentByName, {type : (this.value[4].attachmentByName).substring(this.value[4].attachmentByName.lastIndexOf(\".\"), this.value[4].attachmentByName.length)});\n      this.file0 = [this.value[0].attachment];\n      this.file1 = [this.value[1].attachment];\n      this.file2 = [this.value[2].attachment];\n      this.file3 = [this.value[3].attachment];\n      this.file4 = [this.value[4].attachment];\n    }\n\n    formVal() {\n      this.getForm.controls['mtag'].setValue(this.metaTag);\n    }\n\n  }\n\n  DocumentAttachmentComponent.ɵfac = function DocumentAttachmentComponent_Factory(t) {\n    return new (t || DocumentAttachmentComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.DbCommonService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.ToastrService), i0.ɵɵdirectiveInject(i6.FinancialService));\n  };\n\n  DocumentAttachmentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DocumentAttachmentComponent,\n    selectors: [[\"app-document-attachment\"]],\n    viewQuery: function DocumentAttachmentComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fruitInput = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.matAutocomplete = _t.first);\n      }\n    },\n    inputs: {\n      parentFormGroup: \"parentFormGroup\",\n      documentAccordialDetails: \"documentAccordialDetails\"\n    },\n    decls: 7,\n    vars: 3,\n    consts: [[\"type\", \"hidden\", \"name\", \"DocumentAttachments\", \"value\", \"DocumentAttachments\"], [\"DocumentAttachments\", \"\"], [\"activeIds\", \"ngb-panel-0\", 1, \"mb-2\", 3, \"ngClass\"], [\"acc\", \"ngbAccordion\"], [\"ngbPanelTitle\", \"\"], [\"ngbPanelContent\", \"\"], [\"lang\", \"AR-SA\", \"id\", \"DocumentAttachments\", 1, \"m-0\", \"ArFontStyle\"], [1, \"row\", \"gx-9\", \"gy-6\"], [\"autocomplete\", \"off\", 3, \"formGroup\"], [1, \"row\"], [1, \"col-lg-4\", \"fv-row\"], [\"lang\", \"AR-SA\", 1, \"col-form-label\", \"fw-bold\", \"fs-6\", \"ArFontStyle\"], [\"type\", \"text\", \"formControlName\", \"createdDate\", \"readonly\", \"\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\"], [\"type\", \"text\", \"formControlName\", \"attachId\", \"readonly\", \"\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\"], [\"type\", \"text\", \"formControlName\", \"subject\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\"], [\"type\", \"text\", \"formControlName\", \"attachmentRemarks\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\"], [\"appearance\", \"outline\", \"formGroupName\", \"mtag\", 1, \"example-chip-list\"], [\"aria-label\", \"Fruit selection\"], [\"chipList\", \"\"], [3, \"selectable\", \"removable\", \"removed\", 4, \"ngFor\", \"ngForOf\"], [3, \"matAutocomplete\", \"matChipInputFor\", \"matChipInputSeparatorKeyCodes\", \"matChipInputAddOnBlur\", \"matChipInputTokenEnd\"], [\"fruitInput\", \"\"], [3, \"optionSelected\"], [\"auto\", \"matAutocomplete\"], [1, \"col-lg-6\", \"fv-row\"], [1, \"mt-4\"], [\"for\", \"formFile\", \"lang\", \"AR-SA\", 1, \"form-label\", \"ArFontStyle\"], [\"formControlName\", \"appplicationFileDocType\", \"lang\", \"AR-SA\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", \"title\", \"testing\", 1, \"form-control\", \"form-control-lg\", \"mb-3\", \"mb-lg-0\", 3, \"hidden\", \"change\"], [\"file1\", \"\"], [1, \"d-flex\"], [1, \"btn\", \"btn-sm\", \"btn-upload\", 3, \"mousedown\"], [1, \"border\", \"border-secondary\", \"rounded\", \"p-3\", \"w-100\", 2, \"height\", \"43px\"], [\"formControlName\", \"personalPhotoDocType\", \"lang\", \"AR-SA\"], [\"file2\", \"\"], [\"formControlName\", \"workIdDocType\", \"lang\", \"AR-SA\"], [\"file3\", \"\"], [\"formControlName\", \"civilIdDocType\", \"lang\", \"AR-SA\"], [\"file4\", \"\"], [\"formControlName\", \"salaryDataDocType\", \"lang\", \"AR-SA\"], [\"file5\", \"\"], [\"type\", \"button\", \"lang\", \"AR-SA\", 1, \"btn\", \"btn-success\", \"float-left\", \"ArFontStyle\", \"dark-sea-green\", 3, \"click\"], [3, \"selectable\", \"removable\", \"removed\"], [\"matChipRemove\", \"\", 4, \"ngIf\"], [\"matChipRemove\", \"\"], [3, \"value\"]],\n    template: function DocumentAttachmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"input\", 0, 1);\n        i0.ɵɵelementStart(2, \"ngb-accordion\", 2, 3)(4, \"ngb-panel\");\n        i0.ɵɵtemplate(5, DocumentAttachmentComponent_ng_template_5_Template, 2, 1, \"ng-template\", 4);\n        i0.ɵɵtemplate(6, DocumentAttachmentComponent_ng_template_6_Template, 126, 37, \"ng-template\", 5);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c2, ctx.documentAccordialDetails === \"ServiceFinanceAccordian\"));\n      }\n    },\n    dependencies: [i7.NgClass, i7.NgForOf, i7.NgIf, i8.NgbAccordion, i8.NgbPanel, i8.NgbPanelTitle, i8.NgbPanelContent, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i1.FormGroupName, i9.NgSelectComponent, i9.NgOptionComponent, i10.MatFormField, i11.MatChipList, i11.MatChip, i11.MatChipInput, i11.MatChipRemove, i12.MatIcon, i13.MatAutocomplete, i13.MatAutocompleteTrigger],\n    styles: [\".panel3bgColor[_ngcontent-%COMP%]{background-color:#acc784}.ArFontStyle[_ngcontent-%COMP%]{font-family:Cairo}.example-chip-list[_ngcontent-%COMP%]{width:100%}  .mat-chip-list-wrapper input.mat-input-element{height:41px!important}  .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix{padding:0}  .mat-form-field-infix{border-top:none}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:3px 0!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:1px solid gray!important;border-radius:5px!important}.btn-upload[_ngcontent-%COMP%]{border:1px solid gray!important;width:30%;height:43px}\"]\n  });\n  return DocumentAttachmentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}